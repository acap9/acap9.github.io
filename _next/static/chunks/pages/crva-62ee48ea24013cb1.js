(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4631],{86786:function(e,a,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/crva",function(){return l(44252)}])},61391:function(e){"use strict";var a={hazard:{very_low:"#fff5f0",low:"#fdbea5",moderate:"#fc7050",high:"#d42020",very_high:"#67000d"},adaptive_capacity:{very_low:"#fff5f0",low:"#c8ddf0",moderate:"#73b3d8",high:"#2879b9",very_high:"#08306b"}},l={very_low:"#fff5f0",low:"#fdbea5",moderate:"#fc7050",high:"#d42020",very_high:"#67000d"},n={gain:"#ffc001",gain_1:"#ffff01",gain_2:"#e9fc86",no_loss:"#ffffff",loss_1:"#eb362a",loss_2:"#ba1419",loss:"#67000d",mask:"#73767f"};e.exports={legend_colors:a,crop_crva_legends:l,crop_sensitivity_legends:n,getCropCrvaColor:function(e){return e<=.2?l.very_low:e<=.4?l.low:e<=.6?l.moderate:e<=.8?l.high:e<=1?l.very_high:void 0},getCropSensitivityColor:function(e){return e>=-1&&e<=-.5?n.gain:e<=-.25?n.gain_1:e<=-.001?n.gain_2:e<=.001?n.no_loss:e<=.25?n.loss_1:e<=.5?n.loss_2:e<=99?n.loss:n.mask},getLegendColor:function(e,l){return e<=.2?a[l].very_low:e<=.4?a[l].low:e<=.6?a[l].moderate:e<=.8?a[l].high:e<=1?a[l].very_high:void 0},options:[{value:"hazard",label:"Hazard"},{value:"adaptive_capacity",label:"Adaptive Capacity"},{value:"crop_sensitivity",label:"Sensitivity"},{value:"crop_crva",label:"Crop CRVA"}],province:[{value:"zds",label:"Zamboanga del Sur"},{value:"zdn",label:"Zamboanga del Norte"},{value:"zs",label:"Zamboanga Sibugay"},{value:"zc",label:"Zamboanga City"},{value:"bas",label:"Isabela City(Basilan)"}],_descKeys:{adaptive_capacity:"The ability of a system to adjust to climate change (including climate\n      variability and extremes) to moderate potential damages, to take advantage of\n      opportunities, or to cope with the consequences (IPCC 2014).",crop_crva:"The ability of a system to adjust to climate change (including climate\n      variability and extremes) to moderate potential damages, to take advantage of\n      opportunities, or to cope with the consequences (IPCC 2014).",crop_sensitivity:"The increase or decrease of climatic suitability of selected crops to changes in\n      temperature and precipitation (Parker et al. 2019)",hazard:"The nature and degree to which a system is exposed to significant climate\n      variations (IPCC 2014)."},_crop_options:{zds:{crop_sensitivity:[{value:"abaca_sens",label:"Abaca"},{value:"banana_sens",label:"Banana"},{value:"cacao_coffee_sens",label:"Cacao Coffee"},{value:"coconut_sens",label:"Coconut"},{value:"corn_sens",label:"Corn"},{value:"fruit_trees_sens",label:"Fruit Trees"},{value:"rice_sens",label:"Rice"},{value:"rubber_sens",label:"Rubber"},{value:"vegetable_sens",label:"Vegetable"}],crop_crva:[{value:"abaca_v1",label:"Abaca"},{value:"banana_v1",label:"Banana"},{value:"cacao_coffee_v1",label:"Cacao Coffee"},{value:"coconut_v1",label:"Coconut"},{value:"corn_v1",label:"Corn"},{value:"fruit_trees_v1",label:"Fruit Trees"},{value:"rice_v1",label:"Rice"},{value:"rubber_v1",label:"Rubber"},{value:"vegetable_v1",label:"Vegetable"}]},zdn:{crop_sensitivity:[{value:"banana_sens",label:"Banana"},{value:"cacao_sens",label:"Cacao"},{value:"corn_sens",label:"Corn"},{value:"mango_sens",label:"Mango"},{value:"rice_sens",label:"Rice"},{value:"rubber_sens",label:"Rubber"},{value:"vegetable_sens",label:"Vegetable"}],crop_crva:[{value:"banana_v1",label:"Banana"},{value:"cacao_v1",label:"Cacao"},{value:"corn_v1",label:"Corn"},{value:"mango_v1",label:"Mango"},{value:"rice_v1",label:"Rice"},{value:"rubber_v1",label:"Rubber"},{value:"vegetable_v1",label:"Vegetable"}]},zs:{crop_sensitivity:[{value:"abaca_sens",label:"Abaca"},{value:"banana_sens",label:"Banana"},{value:"cacao_sens",label:"Cacao"},{value:"calamansi_sens",label:"Calamansi"},{value:"cassava_sens",label:"Cassava"},{value:"coconut_sens",label:"Coconut"},{value:"coffee_sens",label:"Coffee"},{value:"corn_sens",label:"Corn"},{value:"fruit_trees_sens",label:"Fruit Trees"},{value:"palm_oil_sens",label:"Palm Oil"},{value:"rice_sens",label:"Rice"},{value:"rubber_sens",label:"Rubber"},{value:"tobacco_sens",label:"Tobacco"},{value:"vegetable_sens",label:"Vegetable"}],crop_crva:[{value:"abaca_v1",label:"Abaca"},{value:"banana_v1",label:"Banana"},{value:"cacao_v1",label:"Cacao"},{value:"calamansi_v1",label:"Calamansi"},{value:"cassava_v1",label:"Cassava"},{value:"coconut_v1",label:"Coconut"},{value:"coffee_v1",label:"Coffee"},{value:"corn_v1",label:"Corn"},{value:"fruit_trees_v1",label:"Fruit Trees"},{value:"palm_oil_v1",label:"Palm Oil"},{value:"rice_v1",label:"Rice"},{value:"rubber_v1",label:"Rubber"},{value:"tobacco_v1",label:"Tobacco"},{value:"vegetable_v1",label:"Vegetable"}]}}}},44252:function(e,a,l){"use strict";l.r(a),l.d(a,{default:function(){return y}});var n=l(85893),t=l(67294),o=l(9473),r=l(57172),i=l(87357),s=l(61903),c=l(18972),u=l(15861),v=l(61391);function d(e){var a;return(0,n.jsxs)(i.Z,{component:"form",sx:{"& .MuiTextField-root":{m:1,width:"100%"}},noValidate:!0,autoComplete:"off",children:[(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",backgroundColor:"",maxWidth:"350px",justifyContent:"flex-start"},children:[(0,n.jsx)(s.Z,{id:"outlined-select-currency",select:!0,label:"Province",defaultValue:"Select province",onChange:e.handleProvinceSelection,children:v.province.map((function(e){return(0,n.jsx)(c.Z,{value:e.value,children:e.label},e.value)}))}),(0,n.jsx)(s.Z,{id:"outlined-select-currency",select:!0,label:"Map",defaultValue:"hazard",onChange:e.handleMapSelection,children:v.options.map((function(e){return(0,n.jsx)(c.Z,{value:e.value,children:e.label},e.value)}))}),"hazard"!==e.selection&&"adaptive_capacity"!==e.selection&&(0,n.jsx)(s.Z,{id:"outlined-select-currency",select:!0,label:"Crop",defaultValue:"",onChange:e.handleCropSelection,children:null===v._crop_options||void 0===v._crop_options||null===(a=v._crop_options[e.selectedProvince])||void 0===a?void 0:a[e.selection].map((function(e){return(0,n.jsx)(c.Z,{value:e.value,children:e.label},e.value)}))}),(0,n.jsx)(u.Z,{sx:{fontSize:"12px",paddingLeft:"12px",color:"#353935"},children:"Map Description:"}),(0,n.jsx)(u.Z,{sx:{fontSize:"12px",paddingLeft:"12px",color:"#353935"},children:v._descKeys[e.selection]})]}),(0,n.jsx)("div",{})]})}var f={adaptive_capacity:["Very Low","Low","Moderate","High","Very High"],crop_crva:["Very Low","Low","Moderate","High","Very High"],hazard:["Very Low","Low","Moderate","High","Very High"],crop_sensitivity:["Gain","Gain_1","Gain_2","No Change","Loss_1","Loss_2","Loss"]},b={adaptive_capacity:["#fff5f0","#c8ddf0","#73b3d8","#2879b9","#08306b"],crop_crva:["#fff5f0","#fdbea5","#fc7050","#d42020","#67000d"],hazard:["#fff5f0","#fdbea5","#fc7050","#d42020","#67000d"],crop_sensitivity:["#ffc001","#ffff01","#e9fc86","#ffffff","#eb362a","#ba1419","#67000d","#73767f"]};var _=function(e){var a=function(e){var a=e.split("_");return"1"===a[1]||"2"===a[1]?" ":a[0]};return(0,n.jsx)("div",{children:(0,n.jsx)(i.Z,{sx:{position:"absolute",top:"20px",left:"20px"},children:(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:["crop_sensitivity"===e.selection&&(0,n.jsx)(u.Z,{sx:{color:"#353935"},children:" Baseline - Future 2050"}),(0,n.jsx)(u.Z,{sx:{fontSize:"12px"},children:"Legend:"}),(0,n.jsx)("div",{children:f[e.selection].map((function(l,t){return(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start",margin:"5px"},children:[(0,n.jsx)("div",{style:{width:"20px",height:"20px",backgroundColor:b[e.selection][t],marginRight:"1em",border:"1px solid gray"},children:" "}),(0,n.jsxs)(u.Z,{sx:{fontSize:"12px"},children:[" - ",a(f[e.selection][t])," "]})]},t)}))})]})})})};function p(e,a,l){return a in e?Object.defineProperty(e,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[a]=l,e}function h(e){var a=function(e){if(void 0!==e){if(""!==k)switch(C){case"crop_crva":return(0,v.getCropCrvaColor)(e);case"crop_sensitivity":return(0,v.getCropSensitivityColor)(e);default:return}return Z(""),(0,v.getLegendColor)(e,C)}},l=function(e){V((function(a){return function(e){for(var a=1;a<arguments.length;a++){var l=null!=arguments[a]?arguments[a]:{},n=Object.keys(l);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(l).filter((function(e){return Object.getOwnPropertyDescriptor(l,e).enumerable})))),n.forEach((function(a){p(e,a,l[a])}))}return e}({},a,e)}))},o=(0,t.useState)(null),s=o[0],c=o[1],u=(0,t.useState)({x:0,y:0}),f=u[0],b=u[1],h=(0,t.useState)([]),g=h[0],y=h[1],x=(0,t.useState)("hazard"),C=x[0],m=x[1],j=(0,t.useState)(""),w=j[0],S=j[1],z=(0,t.useState)(""),k=z[0],Z=z[1],E=(0,t.useState)({}),V=(E[0],E[1]);(0,t.useEffect)((function(){if(e.data){var a=e.data.filter((function(e){return e.prov===w}));y(a)}}),[w]);return(0,n.jsxs)(i.Z,{sx:{display:"flex",flexDirection:"row"},children:[(0,n.jsxs)(i.Z,{sx:{position:"relative",width:700,height:600,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:4,overflow:"hidden",padding:"0px"},children:[s&&(0,n.jsx)(i.Z,{sx:{position:"absolute",top:f.y-100,left:f.x-200,background:"rgba(0, 0, 0, 0.7)",color:"#EEE",padding:"8px 16px",borderRadius:"8px",fontSize:"0.9rem",pointerEvents:"none",zIndex:1e3},children:s}),(0,n.jsx)(_,{selection:C}),(0,n.jsx)(r.ComposableMap,{projection:"geoMercator",width:600,height:700,projectionConfig:{scale:12500,center:[122.9,7.6]},children:(0,n.jsx)(r.Geographies,{geography:"/r9-with-weather.json",children:function(e){return e.geographies.map((function(e){var t=null===g||void 0===g?void 0:g.find((function(a){return a.mun===e.properties.ADM3_EN}));return(0,n.jsx)(r.Geography,{geography:e,fill:void 0===t?"#EEE":a(""===k?t[C]:t[k]),onMouseEnter:function(a){return function(e,a){c(e.properties.ADM3_EN),b({x:a.clientX,y:a.clientY})}(e,a)},onMouseLeave:function(){c(null)},stroke:void 0===t?"floralwhite":"black",style:{default:{outline:"none"},hover:{outline:"none",stroke:"floralwhite",strokeWidth:1},pressed:{outline:"none",stroke:"floralwhite",strokeWidth:2}},onClick:function(){return l(t)}},e.rsmKey)}))}})})]}),(0,n.jsx)(i.Z,{children:(0,n.jsx)(d,{handleMapSelection:function(e){Z(""),m(e.target.value)},handleProvinceSelection:function(e){S(e.target.value)},handleCropSelection:function(e){Z(e.target.value)},selection:C,selectedCrop:k,selectedProvince:w})})]})}var g=l(48875);var y=function(){var e=(0,o.I0)(),a=(0,o.v9)((function(e){return e.crva})),l=a.crva_data,r=a.loading,i=a.error;return(0,t.useEffect)((function(){var a=new AbortController;return e((0,g.Y)(a.signal)),function(){a.abort()}}),[e]),(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{children:" Climate Risk Vulnerability Assessment "}),r&&(0,n.jsx)("p",{children:"Loading data..."}),i&&(0,n.jsxs)("p",{children:["Error: ",i]}),!r&&!i&&(0,n.jsx)(h,{data:l})]})}}},function(e){e.O(0,[5778,3593,9964,1903,8039,9774,2888,179],(function(){return a=86786,e(e.s=a);var a}));var a=e.O();_N_E=a}]);