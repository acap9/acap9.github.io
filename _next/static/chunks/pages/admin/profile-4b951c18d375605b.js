(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8172],{5165:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/profile",function(){return r(7172)}])},7172:function(e,n,r){"use strict";r.r(n);var t=r(34051),u=r.n(t),o=r(85893),a=r(67294),s=r(47426),i=r(95243),c=r(66383),l=r(60873),f=r(24633);function d(e,n,r,t,u,o,a){try{var s=e[o](a),i=s.value}catch(c){return void r(c)}s.done?n(i):Promise.resolve(i).then(t,u)}function p(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function v(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){p(e,n,r[n])}))}return e}var g=v({},r(27392).BF,{title:"Save changes",msg:"Do you want to save the new password?"});n.default=(0,i.Z)((function(e){var n=(0,a.useState)(""),r=n[0],t=n[1],i=(0,a.useState)(g),p=i[0],w=i[1],h=(0,a.useRef)(!1);(0,a.useState)((function(){return h.current=!0,function(){h.current=!1}}),[]);var b=function(){var n,t=(n=u().mark((function n(){var t,o;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(""!==r){n.next=3;break}return w(v({},g,{error:"Please check your input."})),n.abrupt("return");case 3:return n.prev=3,w(v({},p,{loading:!0,msg:"Saving changes..."})),n.next=7,(0,f.Nq)({password:r,uid:e.user.uid},e.user.accountlevel);case 7:h.current&&w(v({},p,{loading:!1,savesuccess:!0,msg:"Password updated. You will be signed-out. Please sign-in using your new password."})),n.next=15;break;case 10:n.prev=10,n.t0=n.catch(3),o=(null===n.t0||void 0===n.t0||null===(t=n.t0.response)||void 0===t?void 0:t.data)||n.t0.message,h.current&&w((function(e){return v({},e,{isOpen:!1,loading:!1,error:o})}));case 15:case"end":return n.stop()}}),n,null,[[3,10]])})),function(){var e=this,r=arguments;return new Promise((function(t,u){var o=n.apply(e,r);function a(e){d(o,t,u,a,s,"next",e)}function s(e){d(o,t,u,a,s,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}();return(0,o.jsx)(c.Z,{loading:e.loading,user:e.user,onBtnLogoutClick:e.onBtnLogoutClick,accLevel:s.DW.ADMIN,children:(0,o.jsx)(l.Z,{user:e.user,password:r,message:p,handleUpdateUser:function(e){var n=e.target,r=n.value;"password"===n.id&&t(r)},handleUpdatePassword:b,handleSaveSuccess:e.onBtnLogoutClick,togglePrompt:function(){return w((function(e){return v({},g,{isOpen:!e.isOpen})}))}})})}))}},function(e){e.O(0,[5778,3593,9964,6002,1903,6279,7530,7944,8465,1050,4730,1982,9774,2888,179],(function(){return n=5165,e(e.s=n);var n}));var n=e.O();_N_E=n}]);