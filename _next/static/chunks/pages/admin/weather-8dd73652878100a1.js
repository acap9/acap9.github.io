(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3359],{81158:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/weather",function(){return t(34995)}])},31338:function(e,n,t){"use strict";t.d(n,{x:function(){return l},P:function(){return s}});var r=t(85893),a=t(87357);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var l=function(e){var n=e.children,t=e.value,l=e.index,s=o(e,["children","value","index"]);return(0,r.jsx)("div",function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){i(e,n,t[n])}))}return e}({role:"tabpanel",hidden:t!==l,id:"custom-tabpanel-".concat(l),"aria-labelledby":"custom-tab-".concat(l)},s,{children:t===l&&(0,r.jsx)(a.Z,{sx:{p:3},children:n})}))};var s=function(e){return{id:"custom-tab-".concat(e),"aria-controls":"custom-tabpanel-".concat(e)}}},34995:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return tt}});var r=t(85893),a=t(67294),i=t(9473),o=t(4936),l=t(95243),s=t(66383),c=t(87357),u=t(40044),d=t(88409),f=t(31338),p=t(89646),h=t(15861),m=t(96399),g=t(34051),x=t.n(g),b=t(80512),v=t(48745),y=t(77715),j=t(901),S=t(30560),w=t(11057),C=t(86886),O=t(87109),A=t(61903),P=t(60265),E=t(93278),Z={container:{marginTop:function(e){return e.spacing(3)}},text:{color:"gray",marginBottom:function(e){return e.spacing(1)},marginTop:function(e){return e.spacing(1)}},rowItem:{display:"flex",marginTop:"12px",maxWidth:"250px"}},T=t(91908),k=t(8857),_=t(39269);var I=function(e){var n=e.state,t=e.file,a=e.isDisabled,i=e.handleInputChange,o=e.handleClearClick,l=e.handleFileUpload,s=e.handleFileSelected;return(0,r.jsxs)(C.ZP,{container:!0,sx:Z.container,children:[(0,r.jsx)(C.ZP,{item:!0,xs:12,children:(0,r.jsx)(E.Z,{label:"Upload an excel file",name:"excelfile",fileAccepts:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",isDisabled:a,fileUploadMethod:l,onFileSelectedCB:s})}),(0,r.jsxs)(C.ZP,{item:!0,xs:12,sx:{marginTop:"24px"},children:[(0,r.jsx)(h.Z,{variant:"h6",children:"Tropical Cyclone Input"}),(0,r.jsxs)(h.Z,{variant:"body2",sx:Z.text,children:["Select PAGASA's shared seasonal weather forecast excel file on the ",(0,r.jsx)("strong",{children:"Upload an excel file"})," selector to unlock the Tropical Cyclone Input items below.",(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),"Then, enter the number of tropical cyclones (0 up to 10) for each month with following its picture reference on the 3rd tab ",(0,r.jsx)("br",{})," from the selected PAGASA-shared seasonal weather forecast excel file.",(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),"Write ",(0,r.jsx)("span",{style:{color:"orange"},children:(0,r.jsx)("b",{children:"nda"})}),' if there is "no data available" for the given month.']})]}),(0,r.jsx)(C.ZP,{item:!0,xs:12,lg:7,children:n.map((function(e,n){return(0,r.jsx)(A.Z,{id:"month-".concat(n),size:"small",label:e.full,value:e.value,placeholder:"".concat(e.full," no. of cyclones"),sx:Z.rowItem,disabled:a||null===t,onChange:i,InputProps:{startAdornment:(0,r.jsx)(O.Z,{position:"start",children:""===e.value?(0,r.jsx)(T.Z,{fontSize:"small",color:"primary"}):e.isValid?(0,r.jsx)(k.Z,{fontSize:"small",color:"secondary"}):(0,r.jsx)(_.Z,{fontSize:"small",sx:{color:P.Z[500]}})})}},n)}))}),(0,r.jsx)(C.ZP,{item:!0,xs:12,lg:5,children:"\xa0"}),(0,r.jsx)(C.ZP,{item:!0,xs:4,sx:{marginTop:"12px"},children:(0,r.jsx)(w.Z,{variant:"text",onClick:o,disableElevation:!0,children:"Clear All"})})]})};function M(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function L(e,n,t,r,a,i,o){try{var l=e[i](o),s=l.value}catch(c){return void t(c)}l.done?n(s):Promise.resolve(s).then(r,a)}function D(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var i=e.apply(n,t);function o(e){L(i,r,a,o,l,"next",e)}function l(e){L(i,r,a,o,l,"throw",e)}o(void 0)}))}}function N(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function R(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){N(e,n,t[n])}))}return e}function G(e){return function(e){if(Array.isArray(e))return M(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"===typeof e)return M(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return M(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var F=["1st month","2nd month","3rd month","4th month","5th month","6th month"];var U=function(){var e=(0,a.useState)([]),n=e[0],t=e[1],o=(0,a.useState)(null),l=o[0],s=o[1],c=(0,i.I0)(),u=(0,i.v9)((function(e){return e.seasonalweather.status}));(0,a.useEffect)((function(){6===F.length&&t(F.reduce((function(e,n,t){return G(e).concat([{id:t,full:n,month:n,isValid:!1,value:""}])}),[]))}),[false]);var d=function(e){var n=[0,1,2,3,4,5,6,7,8,9,10].map((function(e){return e.toString()})).includes(e);return/^([0-9]|10) or ([0-9]|10)$/g.test(e)||n||"nda"===e},f=function(){t(n.map((function(e){return R({},e,{isValid:!1,value:""})})))},p=function(){var e=D(x().mark((function e(t){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=D(x().mark((function e(r,a){var i;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.filter((function(e){return!e.isValid})).length>=1)){e.next=4;break}a(new Error("Please check your tropical cyclones list input")),e.next=18;break;case 4:return e.prev=4,e.next=7,(0,b.BZ)(t);case 7:return i=e.sent,e.next=10,(0,b.eg)({type:S.M.SUB_SEASONAL_COMMON,body:{data:n.map((function(e){return{id:e.id,value:e.value}})),region:"zampen",type:S.M.COMMON_SEASONAL_REGIONAL_TYPE.CYCLONES_COUNT}});case 10:c((0,v.Mj)(i.map((function(e){return R({},e,{date_created:(0,y.NK)(e.date_created)})})))),f(),r(!0),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),a(e.t0);case 18:case"end":return e.stop()}}),e,null,[[4,15]])})));return function(n,t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,r.jsx)(I,{state:n,file:l,isDisabled:u===j.G.PENDING,handleInputChange:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"update",a=e.target,i=a.id,o=a.value,l=i.split("-")[1],s=G(n);s[l]&&("clear"===r?(s[l].value="",s[l].isValid=!1):(s[l].value=o,o.length>=10?s[l].isValid=!1:s[l].isValid=""!==o&&d(o)),t((function(e){return s})))},handleClearClick:f,handleFileUpload:p,handleFileSelected:function(e){s(e),e||f()}})},W=t(25677),z=t(56863),B=t(30018),V=t(6994),H=t(19227),Y=t(55688),X=t(27840),$={container:{marginTop:function(e){return e.spacing(3)}},text:{color:"gray",marginBottom:function(e){return e.spacing(1)},marginTop:function(e){return e.spacing(1)}},rowItem:{display:"flex",marginTop:"12px",maxWidth:"parent","& .MuiOutlinedInput-root":{paddingLeft:function(e){return e.spacing(2)}}},btnCancel:{height:function(e){return e.spacing(5)},width:"40px",borderTopLeftRadius:0,borderBottomLeftRadius:0,"& span":{marginRight:0}},btnGroup:{marginTop:"8px","& button":{width:"110px"},display:{sm:"flex",md:"unset"},flexDirection:{sm:"column"}}},J=t(63343);var K=function(e){var n=e.state,t=e.message,a=e.log,i=e.isLoading,o=e.handleInputChange,l=e.handleDeleteClick,s=e.handleClearClick,c=e.handleReset,u=e.handleAddClick,d=e.handleSaveClick,f=e.handleCancelSaveClick,p=e.handleResetMsg,m=e.onSaveClick;return(0,r.jsxs)(C.ZP,{container:!0,sx:$.container,children:[t.openLoadingModal&&(0,r.jsx)(H.Z,{isOpen:!0,title:"Save changes",contentText:t.modalMsg,loading:i,openButtonText:null,modalConfirmHandlerCB:m,modalCancelHandlerCB:f}),""!==t.msg&&(0,r.jsx)(Y.Z,{openSnackbar:!0,message:t.msg,severity:t.type,closeHandlerCB:p}),(0,r.jsxs)(C.ZP,{item:!0,xs:12,sx:{marginTop:"24px",marginBottom:"8px"},children:[(0,r.jsx)(h.Z,{variant:"h6",children:"Weather Systems that May Affect the Region"}),(0,r.jsxs)(h.Z,{variant:"body2",sx:$.text,children:["Below is a list of other weather systems that may affect the region. Edit the existing contents or add/delete some items,",(0,r.jsx)("br",{}),"then press the ",(0,r.jsx)("strong",{children:"SAVE"})," button to save your changes. ",(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),"Press the ",(0,r.jsx)("strong",{children:"RESET"})," button to undo your changes to the last SAVE point. Press the ",(0,r.jsx)("strong",{children:"CLEAR ALL"})," button to remove all items."]}),(0,r.jsx)(X.Z,{children:i?"Loading...":"Updated by ".concat(a.updated_by," on ").concat(a.date_created,".")})]}),(0,r.jsx)(C.ZP,{item:!0,xs:12,lg:6,children:n.map((function(e,n){return(0,r.jsx)(V.Z,{id:"misc-".concat(n),size:"small",label:e.full,value:e.value,placeholder:"Enter a weather system",sx:$.rowItem,disabled:i,onChange:o,InputProps:{startAdornment:(0,r.jsx)(O.Z,{position:"start",children:""===e.value?(0,r.jsx)(T.Z,{fontSize:"small",color:"primary"}):e.isValid?(0,r.jsx)(k.Z,{fontSize:"small",color:"secondary"}):(0,r.jsx)(_.Z,{fontSize:"small",sx:{color:P.Z[500]}})}),endAdornment:(0,r.jsx)(B.Z,{disableElevation:!0,disabled:i,startIcon:(0,r.jsx)(J.Z,{fontSize:"small"}),sx:$.btnCancel,onClick:function(){return l(n)}})}},n)}))}),(0,r.jsx)(C.ZP,{item:!0,xs:12,lg:5,children:"\xa0"}),(0,r.jsx)(C.ZP,{item:!0,xs:12,sx:{marginTop:"24px"},children:(0,r.jsxs)(z.Z,{variant:"text",disableElevation:!0,size:"small",sx:$.btnGroup,disabled:i,children:[(0,r.jsx)(B.Z,{onClick:s,children:"Clear All"}),(0,r.jsx)(B.Z,{onClick:c,children:"Reset"}),(0,r.jsx)(B.Z,{onClick:u,children:"Add"}),(0,r.jsx)(B.Z,{onClick:d,variant:"contained",children:"Save"})]})})]})};function Q(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function q(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function ee(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){q(e,n,t[n])}))}return e}function ne(e){return function(e){if(Array.isArray(e))return Q(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"===typeof e)return Q(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Q(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var te="success",re="error",ae="info",ie={msg:"",type:"",modalMsg:"Save changes to the weather systems list?",openLoadingModal:!1};var oe=function(){var e=(0,a.useState)([]),n=e[0],t=e[1],o=(0,a.useState)(ie),l=o[0],s=o[1],c=(0,a.useState)(!1),u=c[0],d=c[1],f=(0,i.I0)(),p=(0,a.useRef)(!1),h=(0,i.v9)((function(e){return e.seasonalcommon_misc})),m=h.ids,g=h.entities,x=h.status,b=h.updated_by,v=h.date_created;(0,a.useEffect)((function(){return p.current=!0,f((0,W.h)()).unwrap().then((function(){p.current&&d(!0)})),function(){p.current=!1}}),[f]),(0,a.useEffect)((function(){x===j.G.FULLFILLED&&m.length>0&&u&&y()}),[x,m,u,y]);var y=(0,a.useCallback)((function(){p.current&&(s((function(e){return ie})),t((function(e){return Object.values(g).map((function(e){return ee({},e,{isValid:!0})}))})))}),[g]);return(0,r.jsx)(K,{state:n,message:l,log:{updated_by:b,date_created:v},isLoading:x===j.G.PENDING,handleInputChange:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"update",a=e.target,i=a.id,o=a.value,l=i.split("-")[1],s=ne(n);s[l]&&("clear"===r?(s[l].value="",s[l].isValid=!1):(s[l].value=o,o.length>=30?s[l].isValid=!1:s[l].isValid=""!==o),p.current&&t((function(e){return s})))},handleClearClick:function(){return t([])},handleDeleteClick:function(e){p.current&&t((function(t){return n.reduce((function(n,t,r){return r!==e&&(n=ne(n).concat([t])),n}),[]).map((function(e,n){return ee({},e,{id:n})}))}))},handleReset:y,handleAddClick:function(){if(25!==n.length&&p.current){var e=ne(n);e.push({id:e.length,value:""}),t(e)}},handleSaveClick:function(){return s(ee({},l,{openLoadingModal:!0}))},handleCancelSaveClick:function(){return s(ee({},l,{openLoadingModal:!1}))},handleResetMsg:function(){return s(ie)},onSaveClick:function(){p.current&&(void 0===n.find((function(e){return""===e.value}))?(s(ee({},l,{modalMsg:"Saving..."})),f((0,W.O)(n)).unwrap().then((function(){p.current&&s((function(e){return ee({},ie,{msg:"Successfully saved changes.",type:te})}))})).catch((function(e){p.current&&s((function(n){return ee({},ie,{msg:e,type:re})}))}))):s((function(e){return ee({},e,{msg:"Please check your input",type:ae,openLoadingModal:!1})})))}})},le=t(26660),se=t(69132);var ce=function(){return(0,r.jsxs)("div",{children:[(0,r.jsx)(c.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:function(e){return e.spacing(1)}},children:(0,r.jsx)(h.Z,{variant:"h6",children:"Seasonal Weather Forecast Updater"})}),(0,r.jsx)("br",{}),(0,r.jsx)(h.Z,{variant:"h7",children:(0,r.jsx)("strong",{children:"Upload an Excel File"})}),(0,r.jsxs)(h.Z,{variant:"body2",sx:se.Z.subheader,children:["Update ACAP's seasonal weather forecast rainfall, tropical cyclones, and weather systems affecting the region data by uploading the updated seasonal weather forecast raw data in the excel file provided by PAGASA by clicking the SEARCH button, followed by clicking the UPLOAD button under the ",(0,r.jsx)("strong",{children:"Upload an Excel File"})," option below.",(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)("b",{children:(0,r.jsx)("span",{style:{color:"orange"},children:"CAUTION:"})})," Since PAGASA's shared seasonal Excel file has no year data, the seasonal Excel file upload will take the current year as a basis for the starting 1st seasonal month.",(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),"You can use the attached seasonal weather forecast excel file from PAGASA as a template when uploading an excel file. The excel file should follow the format and structure of the attached sample.",(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),"Write ",(0,r.jsx)("span",{style:{color:"orange"},children:(0,r.jsx)("b",{children:"nda"})}),' for Excel cell values with "no data available" for given month or parameter.',(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsxs)("label",{style:{fontSize:"12px"},children:["PAGASA's latest seasonal weather forecast is availabe on ",(0,r.jsx)("a",{href:"https://www.pagasa.dost.gov.ph/climate/climate-prediction/seasonal-forecast",target:"_blank",rel:"noreferrer",children:"PAGASA' Seasonal (Rainfall) Forecast"})," web page for reference."]}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)("a",{href:(0,le.assetPrefixer)("files/".concat("")),target:"__blank",children:"[Seasonal Forecast Excel template]"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(m.Z,{withBorder:!0}),(0,r.jsx)(U,{}),(0,r.jsx)(oe,{})]})]})},ue=t(87682),de=t(21234),fe=t(11496),pe=t(87918),he=t(98456),me=t(46901);function ge(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var xe=(0,fe.ZP)((function(e){return(0,r.jsx)(c.Z,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){ge(e,n,t[n])}))}return e}({},e))}))((function(e){var n=e.theme;return{display:"flex",alignItems:"center",maxWidth:"500px",minHeight:"100px",border:"1px solid gray",borderRadius:"8px",marginTop:n.spacing(1),marginBottom:n.spacing(3),"& ul":{listStyle:"none",paddingLeft:n.spacing(3)}}})),be=xe;var ve=function(e){return(0,r.jsxs)(c.Z,{children:[(0,r.jsx)(h.Z,{sx:{marginTop:function(e){return e.spacing(4)}},variant:"h6",children:e.title}),(0,r.jsx)(be,{children:e.children})]})},ye=t(47426),je=t(25675);var Se=function(e){var n=e.text,t=e.label,a=e.imagePath;return(0,r.jsx)(c.Z,{sx:{borderRadius:"4px",margin:"4px",padding:"8.5px 14px 8.5px 8.5px",fontSize:"1rem",lineHeight:"1.4375em","& span":{marginLeft:"8px"}},children:(0,r.jsxs)(c.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,r.jsx)(je.default,{unoptimized:!0,src:(0,le.assetPrefixer)(a),height:20,width:20,loader:le.imageLoader,alt:"moon phase"}),(0,r.jsxs)("span",{children:[t,":"]}),(0,r.jsx)("span",{children:n})]})})},we={container:{marginTop:function(e){return e.spacing(3)}},text:{color:"gray",marginBottom:function(e){return e.spacing(1)},marginTop:function(e){return e.spacing(1)}},rowItem:{display:"flex",marginTop:"16px",maxWidth:{xs:"100%",sm:"300px"}},btnGroup:{"& button":{width:"110px"},display:{sm:"flex",md:"unset"},flexDirection:{sm:"column"}}};var Ce=function(e){var n=e.state,t=e.message,a=e.log,i=e.isDisabled,o=e.isViewInfo,l=e.handleInputChange,s=e.handleClearClick,u=e.handleSaveClick,d=e.handleCancelSaveClick,f=e.handleSwitchClick,p=e.onSaveClick;return(0,r.jsxs)(C.ZP,{container:!0,sx:we.container,children:[t.openLoadingModal&&(0,r.jsx)(H.Z,{isOpen:!0,title:"Save changes",contentText:t.modalMsg,loading:i,openButtonText:null,modalConfirmHandlerCB:p,modalCancelHandlerCB:d}),""!==t.msg&&(0,r.jsx)(Y.Z,{openSnackbar:!0,message:t.msg,severity:t.type,closeHandlerCB:d}),(0,r.jsxs)(C.ZP,{item:!0,xs:12,sx:{marginTop:"32px"},children:[(0,r.jsx)(h.Z,{variant:"h6",children:"Moon Phases Input"}),(0,r.jsxs)(h.Z,{variant:"body2",sx:we.text,children:["Listed below are the moon phases data for the 10-Day weather outlook PDF moon phases section.",(0,r.jsx)("br",{}),"Click the ",(0,r.jsx)("strong",{children:"EDIT"})," button to start editing it's content."]}),(0,r.jsxs)(X.Z,{children:["Updated by ",a.updated_by," on ",a.date_created," from PAGASA's ",(0,r.jsx)("a",{href:"https://www.pagasa.dost.gov.ph/astronomy/astronomical-diary",target:"_blank",rel:"noreferrer",children:"Astronomical Diary"})," web page."]})]}),(0,r.jsxs)(C.ZP,{item:!0,xs:12,lg:7,sx:{marginTop:"8px"},children:[o?n.map((function(e,n){return(0,r.jsx)(Se,{text:e.value,label:e.label,imagePath:e.image},n)})):n.map((function(e,n){return(0,r.jsx)(A.Z,{id:"month-".concat(n),size:"small",label:e.label,value:e.value,placeholder:"".concat(e.label," date i.e., 29-Jun-22"),sx:we.rowItem,disabled:i,onChange:l,InputProps:{startAdornment:(0,r.jsx)(O.Z,{position:"start",children:""===e.value?(0,r.jsx)(T.Z,{fontSize:"small",color:"primary"}):e.isValid?(0,r.jsx)(k.Z,{fontSize:"small",color:"secondary"}):(0,r.jsx)(_.Z,{fontSize:"small",sx:{color:P.Z[500]}})})}},n)})),(0,r.jsx)(c.Z,{sx:{marginTop:"24px",marginLeft:"8px"},children:(0,r.jsx)(z.Z,{variant:"text",size:"small",disabled:i,disableElevation:!0,sx:we.btnGroup,children:o?(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(B.Z,{variant:"contained",onClick:f,children:"Edit"})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(B.Z,{onClick:s,children:"Clear All"}),(0,r.jsx)(B.Z,{onClick:f,children:"Cancel"}),(0,r.jsx)(B.Z,{variant:"contained",onClick:u,disabled:i,children:"Save"})]})})})]})]})};function Oe(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function Ae(e,n,t,r,a,i,o){try{var l=e[i](o),s=l.value}catch(c){return void t(c)}l.done?n(s):Promise.resolve(s).then(r,a)}function Pe(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Ee(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){Pe(e,n,t[n])}))}return e}function Ze(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,a,i=[],o=!0,l=!1;try{for(t=t.call(e);!(o=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);o=!0);}catch(s){l=!0,a=s}finally{try{o||null==t.return||t.return()}finally{if(l)throw a}}return i}}(e,n)||ke(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Te(e){return function(e){if(Array.isArray(e))return Oe(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ke(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ke(e,n){if(e){if("string"===typeof e)return Oe(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Oe(e,n):void 0}}var _e={NEW_MOON:{code:"new_moon",label:"New Moon"},FIRST_QUARTER:{code:"first_quarter",label:"First Quarter"},FULL_MOON:{code:"full_moon",label:"Full Moon"},LAST_QUARTER:{code:"last_quarter",label:"Last Quarter"}},Ie={msg:"",type:"",action:"view",loading:!1,modalMsg:"Save changes to the moon phases list?",openLoadingModal:!1},Me={updated_by:"",date_created:""};var Le=function(){var e=(0,a.useState)([]),n=e[0],t=e[1],i=(0,a.useState)(Ie),o=i[0],l=i[1],s=(0,a.useState)(Me),c=s[0],u=s[1],d=(0,a.useState)(!0),f=d[0],p=d[1],h=(0,a.useRef)(!1),m=Ze((0,ue.ky)(S.M.WEATHER_FORECASTS,"".concat("zampen","/").concat(S.M.SUB_TENDAY_COMMON,"/").concat(S.M.COMMON_TENDAY_TYPE.MOON_PHASES)),3),g=m[0],v=m[1],j=m[2];(0,a.useEffect)((function(){return h.current=!0,t(Object.values(_e).reduce((function(e,n,t){return Te(e).concat([{id:t,value:"-",phase:n.code,label:n.label,image:"images/icons/moon/".concat(n.code,".svg"),isValid:!1}])}),[])),function(){h.current=!1}}),[]),(0,a.useEffect)((function(){!v&&h.current&&g&&(w(g),u((function(e){return Ee({},e,{updated_by:g.updated_by,date_created:(0,y.Xn)(g.date_created)})}))),""!==j&&h.current&&l(Ee({},Ie,{msg:j,type:ye.C7.ERROR}))}),[g,v,j,w]);var w=(0,a.useCallback)((function(e){if(e){var r=Te(n);e.data.forEach((function(e,n){r[n].value=e.value,r[n].isValid=""!==e.value})),t((function(e){return r}))}}),[n]),C=function(e){f||w(e||g),p((function(e){return!e}))},O=function(){var e,t=(e=x().mark((function e(){var t,r;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h.current){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,l(Ee({},Ie,{loading:!0,openLoadingModal:!0,modalMsg:"Saving changes..."})),e.next=6,(0,b.eg)({type:S.M.SUB_TENDAY_COMMON,body:{region:"zampen",type:S.M.COMMON_TENDAY_TYPE.MOON_PHASES,data:n.map((function(e,n){return{id:n,value:e.value,phase:e.phase}}))}});case 6:t=e.sent,h.current&&(l((function(e){return Ee({},Ie,{msg:"Successfully saved changes",type:ye.C7.SUCCESS})})),u((function(e){return Ee({},e,{updated_by:t.updated_by,date_created:(0,y.NK)(t.date_created)})})),C(t)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),h.current&&(r="",void 0!==e.t0.response&&(r=void 0!==e.t0.response.data?e.t0.response.data:""),""===r&&(r=e.t0.message),l(Ee({},Ie,{msg:r,type:ye.C7.ERROR})));case 13:case"end":return e.stop()}}),e,null,[[2,10]])})),function(){var n=this,t=arguments;return new Promise((function(r,a){var i=e.apply(n,t);function o(e){Ae(i,r,a,o,l,"next",e)}function l(e){Ae(i,r,a,o,l,"throw",e)}o(void 0)}))});return function(){return t.apply(this,arguments)}}();return(0,r.jsx)(Ce,{state:n,message:o,log:c,isDisabled:o.loading,isViewInfo:f,handleInputChange:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"update",a=e.target,i=a.id,o=a.value,l=i.split("-")[1],s=Te(n);s[l]&&("clear"===r?(s[l].value="",s[l].isValid=!1):(s[l].value=o,o.length>=10?s[l].isValid=!1:s[l].isValid=""!==o),t((function(e){return s})))},handleClearClick:function(){t(n.map((function(e){return Ee({},e,{isValid:!1,value:""})})))},handleSaveClick:function(){void 0===n.find((function(e){return""===e.value}))?l(Ee({},o,{openLoadingModal:!0})):l((function(e){return Ee({},e,{msg:"Please check your input",type:ye.C7.INFO,openLoadingModal:!1})}))},handleCancelSaveClick:function(){return l(Ie)},handleSwitchClick:function(){return C(null)},onSaveClick:O})},De={subheader:function(e){return{marginBottom:e.spacing(2),color:"gray",marginTop:e.spacing(1),"& a":{color:e.palette.green.dark,textDecoration:"none"},"& a:visited":{color:e.palette.green.dark},"& a:hover, span:hover":{textDecoration:"underline"}}},summary:{display:"flex",alignItems:"center",maxWidth:"500px",minHeight:"100px",border:"1px solid gray",borderRadius:"8px",marginTop:function(e){return e.spacing(1)},marginBottom:function(e){return e.spacing(3)},"& ul":{listStyle:"none"}},upload:{display:"flex",alignItems:"center",maxWidth:"500px",minHeight:"90px",border:"1px solid gray",borderRadius:"8px",fontSize:"14px",color:function(e){return e.palette.text.secondary},padding:function(e){return e.spacing(2)},marginTop:function(e){return e.spacing(1)},marginBottom:function(e){return e.spacing(1)}},notification:{maxWidth:"500px",marginBottom:function(e){return e.spacing(2)}}},Ne=(0,fe.ZP)("input")({display:"none"});var Re=function(e){var n=e.files,t=void 0===n?[]:n,a=e.status,i=e.logs,o=e.handleSubmit,l=e.handleSelectFiles;return(0,r.jsxs)(c.Z,{sx:{"& li":{fontSize:"14px"}},children:[(0,r.jsx)(h.Z,{sx:{marginTop:function(e){return e.spacing(1)}},variant:"h6",children:"10-Day Weather Forecast Updater"}),(0,r.jsxs)(h.Z,{variant:"body2",sx:De.subheader,children:["ACAP's system updates its internal 10-Day Weather Forecast data by automatically downloading, parsing, and uploading the 10-day weather forecast excel files from PAGASA's ",(0,r.jsx)("a",{href:"https://www.pagasa.dost.gov.ph/climate/climate-prediction/10-day-climate-forecast",target:"_blank",rel:"noreferrer",children:"10-Day Climate Forecast"})," web page to ACAP's database.",(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),"ACAP's daily automatic 10-Day Weather Forecast updating runs daily between 9:00 AM to 12:00 PM PH time.",(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),"This panel updates the site's 10-Day Weather Forecast data by allowing admins to manually upload the excel files downloaded from PAGASA's web page. Follow the steps to update the site's 10-Day Weather Forecast data:"]}),(0,r.jsxs)("ol",{children:[(0,r.jsxs)("li",{children:["Download all (10) excel files from PAGASA's ",(0,r.jsx)("a",{href:"https://www.pagasa.dost.gov.ph/climate/climate-prediction/10-day-climate-forecast",target:"_blank",rel:"noreferrer",children:"10 Day Climate Forecast"})," web page."]}),(0,r.jsx)("li",{children:"Press the SELECT FILES button and select all the excel files."}),(0,r.jsx)("li",{children:"Press the SUBMIT button."}),(0,r.jsx)("li",{children:"Wait for the upload process to finish."})]}),(0,r.jsx)(ve,{title:"Current Data Update Summary",children:(0,r.jsxs)("ul",{children:[(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Updated by:"}),"\xa0 ",i.updated_by]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Valid Until:"}),"\xa0 ",i.date_valid]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Date of Forecast:"}),"\xa0 ",i.date_forecast]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Date synced:"}),"\xa0 ",i.date_synced]})]})}),(0,r.jsx)(c.Z,{sx:De.upload,children:0===t.length?(0,r.jsx)("span",{children:"Select excel files."}):(0,r.jsx)(c.Z,{sx:{"& div":{margin:"2px"}},children:Array.from(t).map((function(e,n){return(0,r.jsx)(pe.Z,{label:e.name,size:"small"},"excel-".concat(n))}))})}),(0,r.jsxs)(c.Z,{sx:De.notification,children:[!a.loading&&""!==a.error&&(0,r.jsx)(me.Z,{severity:"error",children:a.error}),!a.loading&&""!==a.msg&&(0,r.jsx)(me.Z,{severity:"success",children:a.msg})]}),(0,r.jsxs)("label",{htmlFor:"contained-button-file",children:[(0,r.jsx)(Ne,{accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",id:"contained-button-file",multiple:!0,type:"file",name:"excel-files",onChange:l,disabled:a.loading}),(0,r.jsxs)(B.Z,{variant:"text",component:"span",size:"small",disabled:a.loading,disableElevation:!0,sx:{width:"110px"},children:["Select Files",(0,r.jsx)(he.Z,{size:20,color:"secondary",sx:{display:a.loading?"block":"none"}})]}),(0,r.jsx)(B.Z,{type:"submit",variant:"contained",size:"small",onClick:o,disabled:a.loading,disableElevation:!0,sx:{width:"110px"},children:"Submit"})]}),(0,r.jsx)(Le,{})]})};function Ge(e,n,t,r,a,i,o){try{var l=e[i](o),s=l.value}catch(c){return void t(c)}l.done?n(s):Promise.resolve(s).then(r,a)}function Fe(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Ue(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){Fe(e,n,t[n])}))}return e}var We={loading:!1,error:"",msg:""},ze={updated_by:"",date_forecast:"",date_synced:"",date_valid:""};var Be=function(e){var n=e.getDateToString,t=(0,a.useState)([]),i=t[0],o=t[1],l=(0,a.useState)(We),s=l[0],c=l[1],u=(0,a.useState)(ze),d=u[0],f=u[1],p=(0,ue.tl)(S.M.WEATHER_FORECASTS,"zampen","ten_day","name",1),h=p.documents,m=p.loading,g=p.error;(0,a.useEffect)((function(){!m&&""===g&&h.length>0&&v(h)}),[m,g,h,v]);var v=(0,a.useCallback)((function(e){var t=Object.values(e[0].municipalities)[0][0],r={updated_by:e[0].updated_by,date_synced:n(e[0].date_created)};r.date_forecast=t.date_forecast,r.date_valid=t.date_range,f(r)}),[n]),y=function(){var e,n=(e=x().mark((function e(){var n,t,r,a;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=new FormData,t=0;t<i.length;t+=1)n.append("excel-files",i[t]);return e.prev=2,c(Ue({},We,{loading:!0})),e.next=6,(0,b.pc)(n);case 6:c((function(e){return Ue({},We,{loading:!1,msg:"Upload success."})})),e.next=14;break;case 9:return e.prev=9,e.t0=e.catch(2),r=e.t0.response?e.t0.response.data:e.t0.message,c(Ue({},We,{loading:!1,error:r})),e.abrupt("return");case 14:return e.prev=14,e.next=17,(0,de.vx)();case 17:a=e.sent,v(a),e.next=24;break;case 21:e.prev=21,e.t1=e.catch(14),console.error(e.t1.message);case 24:case"end":return e.stop()}}),e,null,[[2,9],[14,21]])})),function(){var n=this,t=arguments;return new Promise((function(r,a){var i=e.apply(n,t);function o(e){Ge(i,r,a,o,l,"next",e)}function l(e){Ge(i,r,a,o,l,"throw",e)}o(void 0)}))});return function(){return n.apply(this,arguments)}}();return(0,r.jsx)(Re,{files:i,status:s,logs:d,handleSubmit:y,handleSelectFiles:function(e){c(We),o(e.target.files)}})},Ve=t(18217),He=t(27392),Ye=t(76295),Xe=t(69368),$e=t(17171),Je=t(39628),Ke={container:{minHeight:"420px",margin:"8px","& .windsignalrow":{margin:"24px 0 24px 0"}}};function Qe(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function qe(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function en(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){qe(e,n,t[n])}))}return e}function nn(e){return function(e){if(Array.isArray(e))return Qe(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"===typeof e)return Qe(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Qe(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var tn={id:"municipalities",label:"Select All...",all:!0};var rn=function(e){var n=e.item,t=e.signalNum,o=void 0===t?"":t,l=e.onItemChange,s=(0,a.useState)(!1),u=s[0],d=s[1],f=(0,i.v9)((function(e){return e.provinces})),p=f.ids,m=f.entities,g=f.status,x=(0,i.v9)((function(e){return e.municipalities})),b=x.ids,v=x.entities,y=x.status,S=(0,a.useMemo)((function(){return nn([tn]).concat(nn(b.map((function(e){return v[e]}))))}),[v,b]);(0,a.useEffect)((function(){var e;if(u&&n.municipalities){var t,r=null!==(t=null===(e=S.filter((function(e){return e.disabled||void 0!==e.iscalendar})))||void 0===e?void 0:e.length)&&void 0!==t?t:0;u&&n.municipalities.length!==b.length-r&&d(!1)}}),[null===n||void 0===n?void 0:n.municipalities,S,b,u]);var w=(0,r.jsx)(Je.Z,{fontSize:"small"}),C=(0,r.jsx)($e.Z,{fontSize:"small"});return(0,r.jsxs)(c.Z,{sx:Ke.container,children:[(0,r.jsxs)(c.Z,{className:"windsignalrow",children:[(0,r.jsx)(h.Z,{variant:"h5",color:"primary",children:(0,r.jsx)("strong",{children:"Wind Signal # ".concat(o)})}),(0,r.jsxs)(h.Z,{variant:"body2",sx:{marginTop:"8px"},children:["Select affected ",(0,r.jsx)("strong",{children:"provinces"})," and ",(0,r.jsx)("strong",{children:"municipalities"}),". Press the ",(0,r.jsx)("strong",{children:"OK"})," button to confirm your selection."]})]}),(0,r.jsx)(c.Z,{className:"windsignalrow",children:(0,r.jsx)(Ye.Z,{disablePortal:!0,id:"province",value:n[0],disabled:0===p.length||g===j.G.PENDING||y===j.G.PENDING,options:p.map((function(e){return m[e]})),renderInput:function(e){return(0,r.jsx)(A.Z,en({},e,{variant:"standard",label:0===p.length?"Loading...":"Select a province"}))},isOptionEqualToValue:function(e,n){return e.label===n.label},onChange:function(e,n){l({target:{id:"province",value:n,signal:o}})}})}),(0,r.jsx)(c.Z,{className:"windsignalrow",children:(0,r.jsx)(Ye.Z,{multiple:!0,limitTags:4,disableCloseOnSelect:!0,id:"municipalities",value:n.municipalities,options:S,ListboxProps:{style:{maxHeight:"200px"}},sx:{".inputRoot":{color:"res"}},disabled:null===n.province||0===p.length||0===b.length||g===j.G.PENDING||y===j.G.PENDING,renderInput:function(e){return(0,r.jsx)(A.Z,en({},e,{variant:"standard",label:0===p.length?"Loading...":"Select municipalities"}))},renderOption:function(e,n,t){var a=t.selected;if(!a||n.label===tn.label){var i=n.label===tn.label?u:a;return(0,r.jsxs)("li",en({},e,{children:[(0,r.jsx)(Xe.Z,{icon:w,checkedIcon:C,style:{marginRight:8},checked:i}),n.label]}))}},getOptionDisabled:function(e){return e.disabled||void 0!==e.iscalendar},isOptionEqualToValue:function(e,n){return e.label===n.label},onChange:function(e,n){n.find((function(e){return e.label===tn.label}))?(d(!0),l({target:{id:"municipalities",value:u?[]:S.filter((function(e){return!e.disabled&&!e.iscalendar&&e.label!==tn.label})),signal:o}})):l({target:{id:"municipalities",value:n,signal:o}})}})})]})},an=t(11427),on=t(37634),ln={container:{marginTop:function(e){return e.spacing(3)}},text:{color:"gray",marginBottom:function(e){return e.spacing(1)},marginTop:function(e){return e.spacing(1)}},rowItem:{display:"flex",marginTop:"24px",maxWidth:"parent","& .MuiOutlinedInput-root":{paddingLeft:function(e){return e.spacing(2)}}},btnCancel:{height:function(e){return e.spacing(5)},width:"40px",borderTopLeftRadius:0,borderBottomLeftRadius:0,"& span":{marginRight:0}},btnGroup:{marginTop:"8px","& button":{width:"110px"},display:{sm:"flex",md:"unset"},flexDirection:{sm:"column"}},listContainer:{marginTop:"8px",padding:"16px",display:"flex",justifyContent:"space-between"}},sn=t(8364);var cn=function(e){var n=e.state,t=e.appstate,o=e.message,l=e.windsignalitems,s=e.updateinfo,u=e.onConfirmClick,d=e.onCancelClick,f=e.onLocationItemChange,m=e.handleInputChange,g=e.handleAddClick,x=e.handleClearClick,b=e.handleDeleteClick,v=e.handleDeleteProvince,y=e.handleReset,S=e.handleSaveClick,w=e.handleAppState,A=e.currentItem,E=(0,i.v9)((function(e){return e.provinces.status})),Z=(0,i.v9)((function(e){return e.municipalities.status})),I=(0,a.useState)(!0),M=I[0],L=I[1],D=(0,a.useState)(0),N=D[0],R=D[1],G=(0,a.useState)(!1),F=G[0],U=G[1];return(0,a.useEffect)((function(){var e=E===j.G.PENDING||Z===j.G.PENDING||o.saving;L(e)}),[E,Z,o.saving]),(0,r.jsxs)(c.Z,{sx:{minWidth:"300px",width:"100%",marginTop:"40px"},children:[(0,r.jsx)(h.Z,{variant:"h6",children:"Wind Speed List Editor"}),""!==o.MSG&&(0,r.jsx)(Y.Z,{openSnackbar:!0,message:o.MSG,severity:o.TYPE}),(0,r.jsx)(H.Z,{openButtonText:null,maxWidth:"sm",title:o.TITLE,loading:o.saving,contentText:t!==He.yf.EDIT?o.MODAL_MSG:null,modalConfirmHandlerCB:function(){switch(t){case He.yf.EDIT:U((function(e){return!e})),u(N);break;case He.yf.SAVE:S()}},modalCancelHandlerCB:function(){U((function(e){return!e})),d()},isOpen:t===He.yf.EDIT?F&&o.openLoadingModal:o.openLoadingModal,children:t===He.yf.EDIT&&(0,r.jsx)(rn,{item:A,signalNum:N,onItemChange:f})}),(0,r.jsx)(C.ZP,{item:!0,xs:12,md:4,children:(0,r.jsxs)(C.ZP,{container:!0,spacing:3,children:[0===n.length?(0,r.jsx)(C.ZP,{item:!0,xs:12,lg:7,children:(0,r.jsx)(on.Z,{message:"There are no wind signal data. Encode wind signal data now for future viewing.",style:{marginTop:"16px"}})}):(0,r.jsx)(C.ZP,{item:!0,xs:12,lg:7,children:n.map((function(e,n){return(0,r.jsxs)(an.Z,{sx:{marginTop:"16px"},children:[(0,r.jsx)(V.Z,{id:"wsignal-".concat(n),size:"small",label:e.full,value:e.value,disabled:M,placeholder:"Enter a wind signal number",sx:ln.rowItem,onChange:m,InputProps:{startAdornment:(0,r.jsx)(O.Z,{position:"start",children:""===e.value?(0,r.jsx)(T.Z,{fontSize:"small",color:"primary"}):e.isValid?(0,r.jsx)(k.Z,{fontSize:"small",color:"secondary"}):(0,r.jsx)(_.Z,{fontSize:"small",sx:{color:P.Z[500]}})}),endAdornment:(0,r.jsxs)(z.Z,{disableElevation:!0,children:[(0,r.jsx)(B.Z,{size:"small",disabled:""===e.value||!e.isValid||M,sx:{width:"80px",borderTopLeftRadius:"0px",borderBottomLeftRadius:"0px"},onClick:function(){!function(e){U((function(e){return!e})),R(e)}(e.value),w(He.yf.EDIT,n)},children:"Edit"}),(0,r.jsx)(B.Z,{startIcon:(0,r.jsx)(J.Z,{fontSize:"small"}),sx:ln.btnCancel,onClick:function(){return b(n,e.value)},disabled:M})]})}},n),l.map((function(n,t){if(n.signal===parseInt(e.value))return(0,r.jsxs)(p.Z,{sx:ln.listContainer,children:[(0,r.jsxs)(c.Z,{children:[(0,r.jsx)(h.Z,{variant:"body1",children:(0,r.jsx)("strong",{children:n.province.label})}),(0,r.jsxs)(h.Z,{variant:"body2",children:["(",n.municipalities.map((function(e){return e.label})).toString().split(",").join(", "),")"]})]}),(0,r.jsx)(c.Z,{children:(0,r.jsx)(B.Z,{sx:ln.btnCancel,startIcon:(0,r.jsx)(sn.Z,{fontSize:"small"}),disabled:M,onClick:function(){v(parseInt(e.value),n.province.label)}})})]},"itm-".concat(t))}))]},n)}))}),(0,r.jsxs)(C.ZP,{item:!0,xs:12,lg:5,children:[(0,r.jsx)(p.Z,{sx:{width:"parent",marginTop:"16px"},children:(0,r.jsxs)(X.Z,{sx:{fontWeight:400,fontSize:"0.875rem",lineHeight:"1.43",letterSpacing:"0.01071em",color:"rgba(0, 0, 0, 0.6)"},children:["Encode wind speed for hand-picked ",ye.Gt,' provinces and municipalities here. This data will be display on ACAP"s Special Weather Forecast section and used as reference on the Tropical Cyclone bulletins, if a typhoon will be detected from PAGASA"s web page.']})}),(0,r.jsx)(p.Z,{sx:{width:"parent",marginTop:"16px"},children:(0,r.jsx)(X.Z,{children:s})})]})]})}),(0,r.jsx)(C.ZP,{item:!0,xs:12,sx:{marginTop:"40px"},children:(0,r.jsxs)(z.Z,{variant:"text",disableElevation:!0,size:"small",sx:ln.btnGroup,disabled:M,children:[(0,r.jsx)(B.Z,{onClick:x,children:"Clear All"}),(0,r.jsx)(B.Z,{onClick:y,children:"Reset"}),(0,r.jsx)(B.Z,{onClick:g,children:"Add"}),(0,r.jsx)(B.Z,{onClick:function(){U((function(e){return!e})),w(He.yf.SAVE)},variant:"contained",children:"Save"})]})})]})};function un(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function dn(e,n,t,r,a,i,o){try{var l=e[i](o),s=l.value}catch(c){return void t(c)}l.done?n(s):Promise.resolve(s).then(r,a)}function fn(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function pn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){fn(e,n,t[n])}))}return e}function hn(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,a,i=[],o=!0,l=!1;try{for(t=t.call(e);!(o=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);o=!0);}catch(s){l=!0,a=s}finally{try{o||null==t.return||t.return()}finally{if(l)throw a}}return i}}(e,n)||gn(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mn(e){return function(e){if(Array.isArray(e))return un(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||gn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gn(e,n){if(e){if("string"===typeof e)return un(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?un(e,n):void 0}}var xn,bn={id:-1,signal:-1,province:null,municipalities:[]},vn={MSG:"",TITLE:"",TYPE:"",MODAL_MSG:"",openLoadingModal:!1,saving:!1},yn=(fn(xn={},He.yf.SAVE,{TITLE:"Save changes",MSG:"Save changes to the wind speed list?",SUCCESS:"Changes saved."}),fn(xn,He.yf.SAVING,{TITLE:"Save changes",MSG:"Saving data...",SUCCESS:"Changes saved."}),fn(xn,He.yf.EDIT,{TITLE:"Affected Provinces and Municipalities Form",MSG:"",SUCCESS:"Changes saved."}),xn);var jn=function(){var e=(0,i.v9)((function(e){return e.provinces})),n=e.ids,t=e.entities,l=e.status,s=e.municipalities,c=(0,a.useState)([]),u=c[0],d=c[1],f=(0,a.useState)(vn),p=f[0],h=f[1],m=(0,a.useState)([]),g=m[0],v=m[1],w=(0,a.useState)(bn),C=w[0],O=w[1],A=(0,a.useState)(He.yf.VIEW),P=A[0],E=A[1],Z=(0,a.useState)(""),T=Z[0],k=Z[1],_=(0,a.useState)(-1),I=(_[0],_[1]),M=(0,i.I0)(),L=(0,a.useRef)(!1);!function(e){var n=(0,a.useState)([]),t=n[0],r=n[1],l=(0,a.useState)([]),s=l[0],c=l[1],u=(0,a.useState)(""),d=u[0],f=u[1],p=(0,a.useState)(!1),h=p[0],m=p[1],g=(0,i.I0)(),x=(0,i.v9)((function(e){return e.provinces})),b=x.ids,v=x.entities,y=x.municipalities,S=x.status,w=x.error;(0,a.useEffect)((function(){0===b.length?g((0,o.Q)()):(r(Object.values(v)),c([]))}),[g,b.length,v]),(0,a.useEffect)((function(){""!==w&&f(w)}),[w]),(0,a.useEffect)((function(){m(S===j.G.PENDING)}),[S]),(0,a.useEffect)((function(){if(e)try{if(!Object.keys(y).includes(e))return void f("Province has no municipalities");if(0===y[e].length)return void f("No municipalities found for ".concat(e));c(y[e]||[]),g((0,Ve.X4)(y[e]||[]))}catch(n){f(n.message)}}),[g,e,y])}();var D=hn((0,ue.ky)(S.M.WEATHER_FORECASTS,"".concat("zampen","/").concat(S.M.SUB_SPECIAL_COMMON,"/").concat(S.M.COMMON_SPECIAL_TYPE.WIND_SPEED)),3),N=D[0],R=D[1],G=D[2];(0,a.useEffect)((function(){return L.current=!0,function(){L.current=!1}}),[]),(0,a.useEffect)((function(){R||l!==j.G.FULLFILLED||F()}),[n,R,l,G,F]);var F=(0,a.useCallback)((function(){var e=N.data.map((function(e){return e.value})).filter((function(e,n,t){return t.indexOf(e)===n})).map((function(e,n){return{id:n,value:e.toString(),isValid:!0,full:"Wind Signal"}})),n=N.data.map((function(e,n){return{id:n,signal:e.value,province:Object.values(t).find((function(n){return n.label===e.province})),municipalities:e.municipalities.map((function(e,n){return{id:n,label:e}}))}}));L.current&&(d(n),v(e),k("Updated by ".concat(N.updated_by," on ").concat((0,y.Xn)(N.date_created))))}),[N,t]),U=function(e,n){if(L.current){for(var t=mn(u),r=0;r<t.length;r+=1)if(t[r].signal===parseInt(n)){for(var a=0;a<t[r].municipalities.length;a+=1)t[r].municipalities[a]=null;t[r].province=null,t[r]=null}d((function(e){return t.filter((function(e){return null!==e})).map((function(e,n){return pn({},e,{id:n})}))}));var i=mn(g);i[e]=null,i.splice(e,1),v((function(e){return i.map((function(e,n){return pn({},e,{id:n})}))}))}},W=function(){var e,n=(e=x().mark((function e(){var n;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===g.find((function(e){return""===e.value}))&&void 0===g.find((function(e){return!1===e.isValid}))){e.next=3;break}return h((function(e){return pn({},vn,{MSG:"Please check your input",TYPE:He.J3.INFO,openLoadingModal:!e.openLoadingModal})})),e.abrupt("return");case 3:if(!(u.filter((function(e){return 0===e.municipalities.length})).length>0||u.map((function(e){return e.signal})).filter((function(e,n,t){return t.indexOf(e)===n})).length!==g.length)){e.next=6;break}return h((function(e){return pn({},vn,{MSG:"Please check your input",TYPE:He.J3.INFO,openLoadingModal:!e.openLoadingModal})})),e.abrupt("return");case 6:return e.prev=6,h((function(e){return pn({},e,{MODAL_MSG:"Saving data...",saving:!0})})),e.next=10,(0,b.eg)({type:S.M.SUB_SPECIAL_COMMON,body:{data:u.map((function(e){return pn({},e,{value:e.signal,province:e.province.label,municipalities:e.municipalities.map((function(e){return e.label}))})})),region:"zampen",type:S.M.COMMON_SPECIAL_TYPE.WIND_SPEED}});case 10:n=e.sent,L.current&&(h((function(e){return pn({},vn,{MSG:"Data successfully saved.",TYPE:He.J3.SUCCESS,openLoadingModal:!e.openLoadingModal,saving:!1})})),k((function(e){return"Updated by ".concat(n.updated_by," on ").concat((0,y.NK)(n.date_created))}))),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(6),L.current&&h(pn({},vn,{MSG:e.t0.message,TYPE:He.J3.ERROR,openLoadingModal:!1,saving:!1}));case 17:case"end":return e.stop()}}),e,null,[[6,14]])})),function(){var n=this,t=arguments;return new Promise((function(r,a){var i=e.apply(n,t);function o(e){dn(i,r,a,o,l,"next",e)}function l(e){dn(i,r,a,o,l,"throw",e)}o(void 0)}))});return function(){return n.apply(this,arguments)}}();return(0,r.jsx)(cn,{state:g,appstate:P,message:p,windsignalitems:u,updateinfo:T,onConfirmClick:function(e){var n=mn(u);if(null!==C.province){if(function(e){for(var n=function(e){if(u[e].province.label===C.province.label&&u[e].signal!==C.signal){var n=u[e].municipalities.map((function(e){return e.label}));if(C.municipalities.map((function(e){return e.label})).some((function(e){return n.indexOf(e)>=0})))return t=!0,"break"}},t=!1,r=0;r<u.length&&"break"!==n(r);r+=1);return t}())return h((function(e){return pn({},vn,{MSG:"One or more of your selected municipalities have duplicates.",TYPE:He.J3.INFO,openLoadingModal:!0})})),void O(bn);var t=u.findIndex((function(n){return n.signal===parseInt(e)&&n.province.label===C.province.label}));if(-1===t){var r={id:u.length,signal:parseInt(e),province:C.province,municipalities:mn(C.municipalities)};n.push(r);var a=[pn({},r,{municipalities:r.municipalities})];d((function(e){return mn(e).concat(mn(a))}))}else n[t].municipalities=mn(C.municipalities),d((function(e){return n}));O(bn)}},onCancelClick:function(){O(bn),h((function(e){return pn({},e,{openLoadingModal:!1})}))},onLocationItemChange:function(e){var n=e.target,t=n.id,r=n.value,a=n.signal;if(void 0!==r&&null!==r){if("province"===t){var i=r.label,o=u.filter((function(e){return e.province.label===i&&e.signal===parseInt(a)}));1===o.length?O(o[0]):O(pn({},bn,{id:u.length,signal:parseInt(a),province:pn({},r)})),M((0,Ve.X4)(s[i]))}"municipalities"===t&&O((function(e){return pn({},e,{municipalities:r})}))}else if("province"===t)O(bn)},handleInputChange:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"update",t=e.target,r=t.id,a=t.value,i=r.split("-")[1],o=mn(g);if(o[i]){if("clear"===n)o[i].value="",o[i].isValid=!1;else{if(""!==a&&void 0!==g.find((function(e){return e.value===a})))return void(o[i].isValid=!1);var l=pn({},o[i]);o[i].value=a,a.length>2||isNaN(a)||a>10?o[i].isValid=!1:(o[i].isValid=""!==a,""===a&&U(r,l.value))}L.current&&v((function(e){return o}))}},handleAddClick:function(){if(5!==g.length&&L.current){var e=mn(g);e.push({id:e.length,value:"",full:"Wind Signal"}),v(e)}},handleClearClick:function(){v([]),d([])},handleDeleteClick:U,handleDeleteProvince:function(e,n){for(var t=mn(u),r=0;r<t.length;r+=1)if(t[r].signal===parseInt(e)&&t[r].province.label===n){for(var a=0;a<t[r].municipalities.length;a+=1)t[r].municipalities[a]=null;t[r].province=null,t[r]=null}d((function(e){return t.filter((function(e){return null!==e})).map((function(e,n){return pn({},e,{id:n})}))}))},handleReset:function(){L.current&&F()},handleSaveClick:W,handleAppState:function(e,n){I((function(e){return null!==n&&void 0!==n?n:-1})),E((function(n){return e})),h((function(n){return pn({},n,{MSG:"",MODAL_MSG:yn[e].MSG,TITLE:yn[e].TITLE,openLoadingModal:!0})}))},currentItem:C})};var Sn=function(e){var n=e.state,t=e.cycloneLoading,a=e.onSyncPress;return(0,r.jsxs)(c.Z,{sx:{fontSize:"14px"},children:[(0,r.jsx)(Y.Z,{openSnackbar:""!==n.error||""!==n.msg,message:""!==n.error?n.error:n.msg,severity:""!==n.error?"error":"success"}),(0,r.jsx)(h.Z,{sx:{marginTop:function(e){return e.spacing(1)}},variant:"h6",children:"Tropical Cyclone Bulletin Updater"}),(0,r.jsxs)(h.Z,{variant:"body2",sx:De.subheader,children:["ACAP's system updates its ",(0,r.jsx)("strong",{children:"Special Weather Advisory"})," information by automatically scanning, extracting, and uploading the latest Tropical Cyclone data from PAGASA's ",(0,r.jsx)("strong",{children:(0,r.jsx)("a",{href:"https://www.pagasa.dost.gov.ph/tropical-cyclone/severe-weather-bulletin",target:"_blank",rel:"noreferrer",children:"Tropical Cyclone Bulletin"})})," web page to ACAP's database.",(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),"ACAP's  automatic Special Weather Advisory updates run daily every (2) two hours, starting from midnight PH time, with a lag time of 20 minutes to (1) one and a half hours.",(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),"This panel updates ACAP's ",(0,r.jsx)("strong",{children:"Special Weather Advisory"})," content by manually initiating the  process of syncing PAGASA's latest published tropical cyclone data from their ",(0,r.jsx)("strong",{children:(0,r.jsx)("a",{href:"https://www.pagasa.dost.gov.ph/tropical-cyclone/severe-weather-bulletin",target:"_blank",rel:"noreferrer",children:"Tropical Cyclone Bulletin"})})," web page to ACAP."]}),(0,r.jsx)(h.Z,{variant:"body2",sx:De.subheader,children:"Press the SYNC button below to start the data syncing process."}),(0,r.jsx)(ve,{title:"Current Data Update Summary",children:!t&&(0,r.jsxs)("ul",{children:[(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Updated by:"}),"\xa0 ",n.updated_by]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Date synced:"}),"\xa0 ",n.date_updated]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Summary:"}),"\xa0 ",n.summary]})]})}),(0,r.jsx)(w.Z,{variant:"contained",onClick:a,disabled:t||n.loading,children:"Sync"}),(0,r.jsx)("hr",{}),(0,r.jsx)(jn,{})]})},wn=t(1029),Cn=t(9669),On=t.n(Cn),An=t(99431);function Pn(e,n,t,r,a,i,o){try{var l=e[i](o),s=l.value}catch(c){return void t(c)}l.done?n(s):Promise.resolve(s).then(r,a)}function En(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Zn(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tn(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function kn(e){return kn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},kn(e)}function _n(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){Tn(e,n,t[n])}))}return e}function In(e,n){return!n||"object"!==Ln(n)&&"function"!==typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function Mn(e,n){return Mn=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},Mn(e,n)}var Ln=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Dn(e){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=kn(e);if(n){var a=kn(this).constructor;t=Reflect.construct(r,arguments,a)}else t=r.apply(this,arguments);return In(this,t)}}var Nn={SPECIAL_WEATHER_CYCLONE:"".concat("https://amia-cis-zyyo.onrender.com","/cyclone")},Rn=function(e){!function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Mn(e,n)}(i,e);var n,t,r,a=Dn(i);function i(){return En(this,i),a.apply(this,arguments)}return n=i,t=[{key:"updateSpecialWeather",value:function(e){var n,t=this;return(n=x().mark((function n(){var r,a;return x().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.createRequestObject({body:e});case 2:return r=n.sent,n.next=5,On()(_n({},r,{url:Nn.SPECIAL_WEATHER_CYCLONE,method:"POST"}));case 5:return a=n.sent,n.abrupt("return",a.data);case 7:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(r,a){var i=n.apply(e,t);function o(e){Pn(i,r,a,o,l,"next",e)}function l(e){Pn(i,r,a,o,l,"throw",e)}o(void 0)}))})()}}],t&&Zn(n.prototype,t),r&&Zn(n,r),i}(An.Z),Gn=new Rn,Fn=Gn.updateSpecialWeather.bind(Gn);function Un(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function Wn(e,n,t,r,a,i,o){try{var l=e[i](o),s=l.value}catch(c){return void t(c)}l.done?n(s):Promise.resolve(s).then(r,a)}function zn(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Bn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){zn(e,n,t[n])}))}return e}function Vn(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,a,i=[],o=!0,l=!1;try{for(t=t.call(e);!(o=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);o=!0);}catch(s){l=!0,a=s}finally{try{o||null==t.return||t.return()}finally{if(l)throw a}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return Un(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Un(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Hn=t(67294),Yn=Hn.useEffect,Xn=Hn.useState,$n=Hn.useRef,Jn={loading:!1,error:"",msg:"",updated_by:"",date_updated:"",summary:""};var Kn=function(e){var n=e.getDateToString,t=Vn((0,ue.ky)(wn.K.GLOBAL_COLLECTIONS,wn.K.CYCLONE_ADVISORY),3),a=t[0],i=t[1],o=t[2],l=Vn(Xn(Jn),2),s=l[0],c=l[1],u=$n(!1);Yn((function(){return u.current=!0,function(){u.current=!1}}),[]),Yn((function(){if(!i){if(!u.current)return;c(o?{error:o}:{loading:!1,error:"",msg:"",updated_by:"system"===a.updated_by?"system":a.email,date_updated:n(a.date_updated),summary:a.summary})}}),[i,a,o,n]);var d=function(){var e,n=(e=x().mark((function e(){var n,t;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c(Bn({},s,{loading:!0,error:"",msg:""})),e.next=4,Fn({});case 4:n=e.sent,t=new Date(1e3*n.date_updated._seconds),n.date_updated="".concat(t.toDateString()," ").concat(t.toLocaleTimeString("it-IT",y.W6)),u.current&&c((function(e){return Bn({},e,{loading:!1,msg:"Successfully synced data.",updated_by:"system"===n.updated_by?"system":n.email,date_updated:n.date_updated,summary:n.summary})})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),u.current&&c((function(n){return Bn({},n,{loading:!1,error:e.t0.message})}));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})),function(){var n=this,t=arguments;return new Promise((function(r,a){var i=e.apply(n,t);function o(e){Wn(i,r,a,o,l,"next",e)}function l(e){Wn(i,r,a,o,l,"throw",e)}o(void 0)}))});return function(){return n.apply(this,arguments)}}();return(0,r.jsx)(Sn,{state:s,cycloneLoading:i,onSyncPress:d})},Qn={tabsContainer:{marginTop:function(e){return e.spacing(6)},border:function(e){return"1px solid ".concat(e.palette.bacap.border)},minHeight:"800px",borderRadius:"8px",background:"#FFFFFF",boxShadow:"rgb(0 0 0 / 2%) 0px 3.5px 5.5px"},tabsMain:{marginTop:function(e){return e.spacing(4)}}};function qn(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function et(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){qn(e,n,t[n])}))}return e}var nt=function(){var e=(0,a.useState)(0),n=e[0],t=e[1];return(0,r.jsxs)("div",{children:[(0,r.jsxs)(p.Z,{sx:{border:"none"},children:[(0,r.jsx)(h.Z,{variant:"h5",children:"Weather Services Updater"}),(0,r.jsxs)("p",{children:["Update the site-wide ",(0,r.jsx)("strong",{children:"ACAP Services"})," weather forecast information for the ",(0,r.jsx)("strong",{children:"Seasonal"}),", ",(0,r.jsx)("strong",{children:"10-Day"})," and ",(0,r.jsx)("strong",{children:"Special Weather"})," Forecast sections by providing updated data."]}),(0,r.jsxs)("p",{children:["Please take caution in updating this information because they will be automatically referenced by all site admins when creating crop recommendations bulletins on the ",(0,r.jsx)("strong",{children:"Create Crop Bulletins"})," (10-Day and Seasonal) Admin pages. Global data updates made by admins are also viewable on the site's public ",(0,r.jsx)("strong",{children:"ACAP Services"})," page and used as references on the ",(0,r.jsx)("strong",{children:"Crop Recommendations"})," page."]})]}),(0,r.jsxs)(c.Z,{sx:Qn.tabsContainer,children:[(0,r.jsxs)(d.Z,{value:n,onChange:function(e,n){t(n)},"aria-label":"weather services updater",children:[(0,r.jsx)(u.Z,et({label:"Seasonal"},(0,f.P)(0))),(0,r.jsx)(u.Z,et({label:"10-Day"},(0,f.P)(1))),(0,r.jsx)(u.Z,et({label:"Tropical Cyclone"},(0,f.P)(2)))]}),(0,r.jsxs)(c.Z,{children:[(0,r.jsx)(f.x,{value:n,index:0,children:(0,r.jsx)(ce,{})}),(0,r.jsx)(f.x,{value:n,index:1,children:(0,r.jsx)(Be,{getDateToString:y.Xn})}),(0,r.jsx)(f.x,{value:n,index:2,children:(0,r.jsx)(Kn,{getDateToString:y.Xn})})]})]})]})};var tt=(0,l.Z)((function(e){var n=(0,i.I0)(),t=(0,i.v9)((function(e){return e.provinces.ids}));return(0,a.useEffect)((function(){0===t.length&&n((0,o.Q)())}),[n,t]),(0,r.jsx)(s.Z,{loading:e.loading,user:e.user,onBtnLogoutClick:e.onBtnLogoutClick,accLevel:ye.DW.ADMIN,children:(0,r.jsx)(nt,{})})}))}},function(e){e.O(0,[5778,3593,9964,8858,1903,6279,542,7944,6295,1433,6572,9821,9958,1550,1050,3278,1538,9774,2888,179],(function(){return n=81158,e(e.s=n);var n}));var n=e.O();_N_E=n}]);