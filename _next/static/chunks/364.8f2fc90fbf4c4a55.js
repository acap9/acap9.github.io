"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[364],{30364:function(e,n,t){t.r(n),t.d(n,{default:function(){return Pn}});var a=t(34051),i=t.n(a),r=t(85893),o=t(9669),l=t.n(o),s=t(67294),c=t(9473),d=t(4936),u=t(98396),p=t(60795),m=t(86105),h=t(38303),f=t(72471),x=t(27409),g=t(8543),v=t(87357),b=t(66242),y=t(15861),j=t(67358),S=t(38895),w=t(23508),Z=t(90948),_=t(16628),k=t(23148),C=t(26495),P=t(57028);k.kL.register(k.f$,k.uw,k.ZL,k.od,k.jn,k.De,k.u,k.ST,k.vn,P.Z,k.Gu);function I(e){var n=e.data,t=n.rain,a=n.time,i=n.temperature,o=n.dew_point,l=(n.pop,n.condition,n.humidity),c=n.wind_speed,d=(n.wind_gust,n.wind_dir),u=(e.isSmallScreen,e.alert,(0,s.useRef)(null));(0,s.useEffect)((function(){if(u.current){var e=u.current,n=e.canvas.getContext("2d").createLinearGradient(0,0,0,200);n.addColorStop(0,"rgba(16, 128, 168, 0.8)"),n.addColorStop(1,"rgba(16, 128, 168, 0)"),e.data.datasets[2].backgroundColor=n,e.update()}}),[a]);var p={labels:a,datasets:[{type:"line",label:"Dew Point (\xb0C)",borderColor:"#128a34ff",backgroundColor:"#128a34ff",borderWidth:1.5,data:o,yAxisID:"y1",fill:!1,tension:.4,datalabels:{display:!1},pointRadius:1,pointHoverRadius:4},{type:"line",label:"Temperature (\xb0C)",borderColor:"rgba(244, 96, 76, 1)",backgroundColor:"rgba(244, 96, 76, 1)",borderWidth:1.5,data:i,yAxisID:"y1",fill:!1,tension:.4,datalabels:{display:!1},pointRadius:1,pointHoverRadius:4},{type:"line",label:"Rainfall (mm/hr)",borderColor:"#0d5d7a",backgroundColor:"#0d5d7a",borderWidth:1.2,data:t,yAxisID:"y2",fill:!0,tension:.6,datalabels:{display:!0},pointRadius:1,pointHoverRadius:4}]},m=Math.max(470,13*a.length);return(0,r.jsxs)("div",{style:{width:"100%",position:"relative",overflowX:"auto",scrollbarWidth:"none",msOverflowStyle:"none",backgroundColor:"rgba(255,255,255,0.8)",borderRadius:"2px"},children:[(0,r.jsx)("style",{children:"\n        div::-webkit-scrollbar {\n          display: none;\n        }\n      "}),(0,r.jsx)("div",{style:{width:m,minWidth:m,height:200},children:(0,r.jsx)(C.kL,{ref:u,type:"bar",data:p,options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{display:!1},datalabels:{color:"#000",anchor:"end",align:"top",font:{size:8},formatter:function(e){return 0===e?"":e}}},scales:{x:{position:"top",ticks:{color:"gray",font:{size:8}}},y1:{type:"linear",position:"left",ticks:{color:"gray",font:{size:8}}},y2:{type:"linear",position:"right",grid:{drawOnChartArea:!1},ticks:{color:"gray",font:{size:8}}}}},plugins:[P.Z]})}),(0,r.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(12, 35px)",width:m,textAlign:"center",marginTop:"-8px",marginLeft:"25px"},children:a.map((function(e,n){var t,a="transparent",i=l[n];return null!==i&&(a=i<=40?"rgba(135, 206, 250, 0.4)":i<=60?"rgba(102, 204, 255, 0.4)":i<=70?"rgba(122, 198, 22, 0.4)":i<=80?"rgba(60, 179, 113, 0.4)":i<=90?"rgba(255, 106, 0, 0.4)":"rgba(168, 34, 10, 0.4)"),(0,r.jsxs)("div",{style:{backgroundColor:""},children:[(0,r.jsx)("div",{style:{fontSize:"9px",color:"#1f1f1f",fontWeight:"500",backgroundColor:a,border:"1px solid rgba(0,0,0,0.1)"},children:i?"".concat(i,"%"):""}),(0,r.jsxs)("div",{style:{fontSize:"9px",fontWeight:"500",color:"#1f1f1f",border:"1px solid rgba(0,0,0,0.1)"},children:[c[n]?"".concat(c[n]):"",(0,r.jsx)("span",{style:{fontSize:"6px"},children:"ms"})]}),(0,r.jsx)("div",{style:{fontSize:"9px",border:"1px solid rgba(0,0,0,0.1)"},children:(0,r.jsx)("img",{src:"images/icons/wind_dir/".concat((t=d[n],t>=337.5||t<22.5?"n.png":t>=22.5&&t<67.5?"ne.png":t>=67.5&&t<112.5?"e.png":t>=112.5&&t<157.5?"se.png":t>=157.5&&t<202.5?"s.png":t>=202.5&&t<247.5?"sw.png":t>=247.5&&t<292.5?"w.png":t>=292.5&&t<337.5?"nw.png":"n.png")),width:15,alt:"wind direction"})})]},n)}))}),(0,r.jsx)("span",{style:{fontSize:"9px",color:"gray",marginTop:"-10px"},children:"Source: OpenWeather "})]})}var A=t(98456),O=t(88409),E=t(40044),z=t(99964),W=t(11057),N=t(61903),T=t(87109),R=t(93946),M=t(86886),D=t(67720),H=t(42761),G=t(42638),F=t(48953),U=t(54878),B=t(74888),Y=t(22961),J=t(25895),V=t(99879),X=t(5306),K=t(93925),Q=t(69386),q=[{name:"Aurora, Zamboanga del Sur",lat:7.948973,lon:123.582343},{name:"Bayog, Zamboanga del Sur",lat:7.848924,lon:123.043928},{name:"Dimataling, Zamboanga del Sur",lat:7.5297,lon:123.3661},{name:"Dinas, Zamboanga del Sur",lat:7.6364,lon:123.3218},{name:"Dumalinao, Zamboanga del Sur",lat:7.817917,lon:123.371056},{name:"Dumingag, Zamboanga del Sur",lat:8.1545,lon:123.34497},{name:"Guipos, Zamboanga del Sur",lat:7.7161,lon:123.3219},{name:"Josefina, Zamboanga del Sur",lat:8.2,lon:123.533},{name:"Kumalarang, Zamboanga del Sur",lat:7.7478,lon:123.1442},{name:"Labangan, Zamboanga del Sur",lat:7.863344,lon:123.51531},{name:"Lakewood, Zamboanga del Sur",lat:7.882643,lon:123.146399},{name:"Lapuyan, Zamboanga del Sur",lat:7.7062,lon:123.1567},{name:"Mahayag, Zamboanga del Sur",lat:8.1183,lon:123.4455},{name:"Margosatubig, Zamboanga del Sur",lat:7.578264,lon:123.165914},{name:"Midsalip, Zamboanga del Sur",lat:8.0328,lon:123.3147},{name:"Molave, Zamboanga del Sur",lat:8.08773,lon:123.48814},{name:"Pitogo, Zamboanga del Sur",lat:7.453164,lon:123.312654},{name:"Ramon Magsaysay, Zamboanga del Sur",lat:8.029248,lon:123.476285},{name:"San Miguel, Zamboanga del Sur",lat:7.72056,lon:123.24528},{name:"San Pablo, Zamboanga del Sur",lat:7.6578,lon:123.4597},{name:"Sominot, Zamboanga del Sur",lat:8.041547,lon:123.384644},{name:"Tabina, Zamboanga del Sur",lat:7.465486,lon:123.408564},{name:"Tambulig, Zamboanga del Sur",lat:8.062581,lon:123.539208},{name:"Tigbao, Zamboanga del Sur",lat:7.821048,lon:123.227385},{name:"Tukuran, Zamboanga del Sur",lat:7.8435,lon:123.5838},{name:"Vincenzo A. Sagun, Zamboanga del Sur",lat:7.515049,lon:123.170891},{name:"Pagadian City, Zamboanga del Sur",lat:7.8257,lon:123.437},{name:"Zamboanga City",lat:6.9214,lon:122.079},{name:"Alicia, Zamboanga Sibugay",lat:7.515833,lon:122.943611},{name:"Buug, Zamboanga Sibugay",lat:7.7322,lon:123.0663},{name:"Diplahan, Zamboanga Sibugay",lat:7.735278,lon:123.051389},{name:"Imelda, Zamboanga Sibugay",lat:7.6706,lon:122.9839},{name:"Ipil, Zamboanga Sibugay",lat:7.7936,lon:122.5861},{name:"Kabasalan, Zamboanga Sibugay",lat:7.796,lon:122.759},{name:"Mabuhay, Zamboanga Sibugay",lat:7.4074,lon:122.9048},{name:"Malangas, Zamboanga Sibugay",lat:7.6308,lon:123.03},{name:"Naga, Zamboanga Sibugay",lat:7.8214,lon:122.6667},{name:"Olutanga, Zamboanga Sibugay",lat:7.314,lon:122.854},{name:"Payao, Zamboanga Sibugay",lat:7.5859,lon:122.8028},{name:"Roseller Lim, Zamboanga Sibugay",lat:7.6176,lon:122.9246},{name:"Siay, Zamboanga Sibugay",lat:7.7053,lon:122.862},{name:"Talusan, Zamboanga Sibugay",lat:7.3351,lon:122.9127},{name:"Titay, Zamboanga Sibugay",lat:7.81,lon:122.583},{name:"Tungawan, Zamboanga Sibugay",lat:7.617,lon:122.382},{name:"Bacungan (Leon T. Postigo), Zamboanga del Norte",lat:8,lon:122.983333},{name:"Baliguian, Zamboanga del Norte",lat:7.95,lon:122.116667},{name:"Godod, Zamboanga del Norte",lat:8,lon:122.783333},{name:"Gutalac, Zamboanga del Norte",lat:7.933333,lon:122.4},{name:"Jose Dalman (Ponot), Zamboanga del Norte",lat:8.533333,lon:123.033333},{name:"Kalawit, Zamboanga del Norte",lat:7.95,lon:122.55},{name:"Katipunan, Zamboanga del Norte",lat:8.516667,lon:123.283333},{name:"La Libertad, Zamboanga del Norte",lat:8.183333,lon:123.533333},{name:"Labason, Zamboanga del Norte",lat:7.933333,lon:122.516667},{name:"Liloy, Zamboanga del Norte",lat:8.116667,lon:122.666667},{name:"Manukan, Zamboanga del Norte",lat:8.533333,lon:123.133333},{name:"Mutia, Zamboanga del Norte",lat:8.433333,lon:123.5},{name:"Pi\xf1an (New Pi\xf1an), Zamboanga del Norte",lat:8.45,lon:123.45},{name:"Polanco, Zamboanga del Norte",lat:8.533333,lon:123.366667},{name:"President Manuel A. Roxas, Zamboanga del Norte",lat:8.533333,lon:123.133333},{name:"Rizal, Zamboanga del Norte",lat:8.65,lon:123.333333},{name:"Salug, Zamboanga del Norte",lat:8.116667,lon:122.783333},{name:"Sergio Osme\xf1a Sr., Zamboanga del Norte",lat:8.266667,lon:123.5},{name:"Siayan, Zamboanga del Norte",lat:8.3,lon:123.133333},{name:"Sibuco, Zamboanga del Norte",lat:7.3,lon:122.066667},{name:"Sibutad, Zamboanga del Norte",lat:8.583333,lon:123.483333},{name:"Sindangan, Zamboanga del Norte",lat:8.233333,lon:123},{name:"Siocon, Zamboanga del Norte",lat:7.7,lon:122.133333},{name:"Sirawai, Zamboanga del Norte",lat:7.583333,lon:122.133333},{name:"Tampilisan, Zamboanga del Norte",lat:8.016667,lon:122.683333},{name:"Dipolog City, Zamboanga del Norte",lat:8.588056,lon:123.340833},{name:"Dapitan City, Zamboanga del Norte",lat:8.65,lon:123.416667},{name:"Banguingui, Sulu",lat:6.071052,lon:121.784873},{name:"Hadji Panglima Tahil, Sulu",lat:6.203031,lon:120.941737},{name:"Indanan, Sulu",lat:6,lon:120.970229},{name:"Jolo, Sulu",lat:6.0536,lon:121.0002},{name:"Kalingalan Caluang, Sulu",lat:5.889031,lon:121.30945},{name:"Lugus, Sulu",lat:5.7,lon:120.82},{name:"Luuk, Sulu",lat:5.966943,lon:121.312835},{name:"Maimbung, Sulu",lat:5.933333,lon:121.033333},{name:"Old Panamao (Panamao), Sulu",lat:5.980456,lon:121.214083},{name:"Omar, Sulu",lat:5.99083,lon:121.39944},{name:"Pandami, Sulu",lat:5.542253,lon:120.801344},{name:"Panglima Estino, Sulu",lat:5.97,lon:121.2},{name:"Pangutaran, Sulu",lat:6.3,lon:120.58},{name:"Parang, Sulu",lat:5.913866,lon:120.906956},{name:"Pata, Sulu",lat:5.845718,lon:121.144507},{name:"Patikul, Sulu",lat:6.088651,lon:121.107051},{name:"Siasi, Sulu",lat:5.55,lon:120.816667},{name:"Talipao, Sulu",lat:5.933333,lon:121.1},{name:"Tapul, Sulu",lat:5.706,lon:120.882},{name:"Isabela City, Basilan",lat:6.735,lon:121.93}];function $(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,a=new Array(n);t<n;t++)a[t]=e[t];return a}function ee(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var a,i,r=[],o=!0,l=!1;try{for(t=t.call(e);!(o=(a=t.next()).done)&&(r.push(a.value),!n||r.length!==n);o=!0);}catch(s){l=!0,i=s}finally{try{o||null==t.return||t.return()}finally{if(l)throw i}}return r}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return $(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return $(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(e){var n,t,a,i,o,l,c,d,u,p,m,h,f,x,g,b,j,S,w,Z,_=e.weather,k=e.address,C=e.alert,P=e.handleOpen,I=e.getLocation,A=e.locationStatusErr,O=(e.status,ee(s.useState([]),2)),E=(O[0],O[1]),z=ee(s.useState(""),2),W=z[0],L=z[1],$=ee(s.useState([]),2),ne=$[0],te=$[1],ae=new Q.Z(q,{keys:["name"],threshold:.4}),ie={icon:null===(t=null===_||void 0===_||null===(n=_.current)||void 0===n?void 0:n.weather[0])||void 0===t?void 0:t.icon,condition:null===(i=null===_||void 0===_||null===(a=_.current)||void 0===a?void 0:a.weather[0])||void 0===i?void 0:i.description,temp:(null===_||void 0===_||null===(o=_.current)||void 0===o?void 0:o.temp)||0,feels_like:null===_||void 0===_||null===(l=_.current)||void 0===l?void 0:l.feels_like,sunrise:null===_||void 0===_||null===(c=_.current)||void 0===c?void 0:c.feels_like,sunset:null===_||void 0===_||null===(d=_.current)||void 0===d?void 0:d.feels_like,humidity:null===_||void 0===_||null===(u=_.current)||void 0===u?void 0:u.humidity,pressure:null===_||void 0===_||null===(p=_.current)||void 0===p?void 0:p.pressure,wind_speed:null===_||void 0===_||null===(m=_.current)||void 0===m?void 0:m.wind_speed,wind_deg:null===_||void 0===_||null===(h=_.current)||void 0===h?void 0:h.wind_deg,visibility:null===_||void 0===_||null===(f=_.current)||void 0===f?void 0:f.visibility,uvi:null===_||void 0===_||null===(x=_.current)||void 0===x?void 0:x.uvi,dew_point:null===_||void 0===_||null===(g=_.current)||void 0===g?void 0:g.dew_point,rain:(null===_||void 0===_||null===(b=_.current)||void 0===b?void 0:b.rain)&&(null===_||void 0===_||null===(j=_.current)||void 0===j?void 0:j.rain["1h"])?null===_||void 0===_||null===(S=_.current)||void 0===S?void 0:S.rain["1h"]:0};return(0,r.jsxs)(v.Z,{sx:{p:1.5,fontFamily:"Poppins, sans-serif",maxWidth:480,margin:"auto"},children:[(0,r.jsx)(v.Z,{textAlign:"center",mb:1.2,children:(0,r.jsxs)(v.Z,{sx:{position:"relative",width:"100%"},children:[(0,r.jsxs)(v.Z,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,r.jsx)(N.Z,{size:"small",variant:"outlined",placeholder:"City/Municipality name",value:W,onChange:function(e){var n=e.target.value;if(L(n),""!==n.trim()){var t=ae.search(n);te(t.map((function(e){return e.item})))}else te([])},sx:{width:"100%",backgroundColor:"white",borderRadius:"8px","& .MuiOutlinedInput-root":{borderRadius:"8px"}},InputProps:{endAdornment:(0,r.jsx)(T.Z,{position:"end",children:(0,r.jsx)(R.Z,{onClick:function(){if(""!==W.trim()){var e=ae.search(W)[0];E(e?e.item:W.trim()),L(""),te([])}},size:"small",children:(0,r.jsx)(H.Z,{fontSize:"small"})})})}}),(0,r.jsx)(G.Z,{color:"primary",sx:{cursor:"pointer"},onClick:function(){I()}})]}),ne.length>0&&(0,r.jsx)(v.Z,{sx:{position:"absolute",top:"100%",left:0,right:0,backgroundColor:"white",border:"1px solid #ddd",borderRadius:"0 0 8px 8px",zIndex:10,maxHeight:"150px",overflowY:"auto"},children:ne.map((function(n,t){return(0,r.jsx)(v.Z,{sx:{p:1,textAlign:"left",cursor:"pointer","&:hover":{backgroundColor:"#f0f0f0"}},onClick:function(){return E((t=n).name),te([]),e.setCoords({latitude:t.lat,longitude:t.lon}),e.setAddress({latitude:t.lat,longitude:t.lon,name:t.name}),void L(t.name);var t},children:(0,r.jsxs)(y.Z,{variant:"subtitle2",children:["  ",n.name," "]})},t)}))})]})}),(0,r.jsxs)(v.Z,{textAlign:"center",sx:{mb:1.5},children:[(0,r.jsx)(v.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:1.5,my:1,backgroundColor:""},children:(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",marginTop:"6px",marginBottom:"4px"},children:[A&&0===_.length?(0,r.jsx)(y.Z,{variant:"caption",sx:{color:"error.main"},children:"Geolocation not supported. Please enter your location manually."}):(0,r.jsxs)(y.Z,{variant:"h6",fontWeight:600,color:"primary",children:["Weather at ",null===k||void 0===k?void 0:k.name]}),C&&(0,r.jsx)("div",{style:{backgroundColor:"#d4693cff",width:"250px",borderRadius:"5px",margin:"0 auto",marginTop:"10px",height:"30px",cursor:"pointer"},onClick:P,children:(0,r.jsxs)(y.Z,{variant:"caption",sx:{display:"flex",alignItems:"center",alignContent:"center",justifyContent:"center",color:"white",fontWeight:"500",marginTop:"5px"},children:[(0,r.jsx)(K.Z,{sx:{color:"white",marginRight:"5px"}}),C[0].event]})}),A&&0===_.length?(0,r.jsx)(r.Fragment,{}):(0,r.jsx)("img",{src:"https://openweathermap.org/img/wn/".concat(null===ie||void 0===ie?void 0:ie.icon,"@4x.png"),alt:"Clouds",style:{width:80,height:80,marginTop:"-6px"}}),(0,r.jsx)("div",{style:{textAlign:"center",marginTop:"-10px"},children:(0,r.jsx)("div",{style:{fontWeight:500,fontSize:"14px",color:"#1f1f1f"},children:(0,r.jsxs)(y.Z,{variant:"subtitle1",color:"primary",children:[(Z=(null===ie||void 0===ie?void 0:ie.condition)||"",Z.split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" "))," ",0!==(null===ie||void 0===ie?void 0:ie.rain)?", ".concat(null===ie||void 0===ie?void 0:ie.rain," mm/hr"):null]})})}),(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"200px"},children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,r.jsxs)(y.Z,{variant:"h2",color:"primary",fontWeight:500,children:[" ",Math.round(null===ie||void 0===ie?void 0:ie.temp)]}),(0,r.jsx)("span",{style:{marginLeft:"0.5em"},children:" \xb0C  "})]}),(0,r.jsxs)(y.Z,{variant:"caption",color:"primary",sx:{fontSize:"12px"},children:["Feels like ",Math.round(null===ie||void 0===ie?void 0:ie.feels_like)," \xb0C"]})]})]})}),(0,r.jsxs)(M.ZP,{container:!0,spacing:.5,sx:{marginTop:"-20px"},children:[(0,r.jsx)(M.ZP,{item:!0,xs:6,children:(0,r.jsxs)(v.Z,{display:"flex",alignItems:"center",gap:.4,children:[(0,r.jsx)(J.Z,{color:"primary",fontSize:"inherit"}),(0,r.jsx)(y.Z,{variant:"caption",children:"Sunrise: 05:33 AM"})]})}),(0,r.jsx)(M.ZP,{item:!0,xs:6,children:(0,r.jsxs)(v.Z,{display:"flex",alignItems:"center",gap:.4,children:[(0,r.jsx)(V.Z,{color:"primary",fontSize:"inherit"}),(0,r.jsx)(y.Z,{variant:"caption",children:"Sunset: 05:33 AM"})]})}),(0,r.jsx)(M.ZP,{item:!0,xs:6,children:(0,r.jsxs)(v.Z,{display:"flex",alignItems:"center",gap:.4,children:[(0,r.jsx)(U.Z,{color:"primary",fontSize:"inherit"}),(0,r.jsxs)(y.Z,{variant:"caption",children:["Humidity: ",null===ie||void 0===ie?void 0:ie.humidity," %"]})]})}),(0,r.jsx)(M.ZP,{item:!0,xs:6,children:(0,r.jsxs)(v.Z,{display:"flex",alignItems:"center",gap:.4,children:[(0,r.jsx)(B.Z,{color:"primary",fontSize:"inherit"}),(0,r.jsxs)(y.Z,{variant:"caption",children:["Pressure: ",null===ie||void 0===ie?void 0:ie.pressure," hPa"]})]})}),(0,r.jsx)(M.ZP,{item:!0,xs:6,children:(0,r.jsxs)(v.Z,{display:"flex",alignItems:"center",gap:.4,children:[(0,r.jsx)("img",{src:"images/icons/wind_dir/".concat((w=null===ie||void 0===ie?void 0:ie.wind_deg,w>=337.5||w<22.5?"n.png":w>=22.5&&w<67.5?"ne.png":w>=67.5&&w<112.5?"e.png":w>=112.5&&w<157.5?"se.png":w>=157.5&&w<202.5?"s.png":w>=202.5&&w<247.5?"sw.png":w>=247.5&&w<292.5?"w.png":w>=292.5&&w<337.5?"nw.png":"n.png")),width:15,alt:"wind direction"}),(0,r.jsxs)(y.Z,{variant:"caption",children:["Wind: ",null===ie||void 0===ie?void 0:ie.wind_speed," m/s"]})]})}),(0,r.jsx)(M.ZP,{item:!0,xs:6,children:(0,r.jsxs)(v.Z,{display:"flex",alignItems:"center",gap:.4,children:[(0,r.jsx)(Y.Z,{color:"primary",fontSize:"inherit"}),(0,r.jsxs)(y.Z,{variant:"caption",children:["Visibility: ",(null===ie||void 0===ie?void 0:ie.visibility)/1e3," km"]})]})}),(0,r.jsx)(M.ZP,{item:!0,xs:6,children:(0,r.jsxs)(v.Z,{display:"flex",alignItems:"center",gap:.4,children:[(0,r.jsx)(F.Z,{color:"primary",fontSize:"inherit"}),(0,r.jsxs)(y.Z,{variant:"caption",children:["UV Index: ",null===ie||void 0===ie?void 0:ie.uvi," "]})]})}),(0,r.jsx)(M.ZP,{item:!0,xs:6,children:(0,r.jsxs)(v.Z,{display:"flex",alignItems:"center",gap:.4,children:[(0,r.jsx)(X.Z,{color:"primary",fontSize:"inherit"}),(0,r.jsxs)(y.Z,{variant:"caption",children:["Dew Point: ",null===ie||void 0===ie?void 0:ie.dew_point," \xb0C"]})]})})]}),(0,r.jsx)(D.Z,{sx:{my:.8}})]})]})}var te=t(44267),ae=t(57922),ie=t(74211);function re(e,n){return new Date(1e3*e).toLocaleString("en-PH",{timeZone:n,weekday:"short",month:"short",day:"2-digit"})}function oe(e,n){return new Date(1e3*e).toLocaleString("en-PH",{timeZone:n,hour:"2-digit",minute:"2-digit",hour12:!0})}function le(e){var n,t,a,i=e.day,o=e.timezone,l=(0,s.useState)(!1),c=l[0],d=l[1];return(0,r.jsx)(b.Z,{sx:{borderRadius:"5px",boxShadow:"0 4px 10px rgba(0,0,0,0.1)",mb:2,overflow:"hidden"},children:(0,r.jsxs)(te.Z,{children:[(0,r.jsxs)(M.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:[(0,r.jsx)(M.ZP,{item:!0,xs:4,children:(0,r.jsx)(y.Z,{variant:"subtitle1",fontWeight:"600",children:re(i.dt,o)})}),(0,r.jsx)(M.ZP,{item:!0,xs:4,sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,r.jsx)("img",{src:"https://openweathermap.org/img/wn/".concat(null===(n=null===i||void 0===i?void 0:i.weather[0])||void 0===n?void 0:n.icon,".png"),alt:i.description,width:50,height:50,style:{marginLeft:"-25px"}})}),(0,r.jsxs)(M.ZP,{item:!0,xs:3,sx:{display:"flex",alignItems:"center",justifyContent:"flex-end"},children:[(0,r.jsx)(y.Z,{variant:"body2",sx:{textTransform:"capitalize",mr:1,fontWeight:500},children:null===(t=null===i||void 0===i?void 0:i.weather[0])||void 0===t?void 0:t.description}),(0,r.jsx)(R.Z,{onClick:function(){return d(!c)},children:(0,r.jsx)(w.Z,{sx:{transform:c?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s ease-in-out"}})})]})]}),(0,r.jsxs)(ae.Z,{in:c,timeout:"auto",unmountOnExit:!0,children:[(0,r.jsx)(D.Z,{sx:{my:1,opacity:.3}}),(0,r.jsxs)(v.Z,{sx:{mt:1},children:[(0,r.jsx)(y.Z,{variant:"subtitle2",fontWeight:"600",children:i.summary}),(0,r.jsxs)(y.Z,{variant:"caption",color:"text.secondary",children:["Maximum of ",i.temp.max,"\xb0 C and a minimum of ",i.temp.min,"\xb0 C."]}),(0,r.jsxs)(y.Z,{variant:"caption",color:"secondary",sx:{marginLeft:"10px"},children:[100*i.pop,"% chance of rain"]})]}),(0,r.jsx)(D.Z,{sx:{my:1,opacity:.3}}),(0,r.jsxs)(M.ZP,{container:!0,spacing:1,children:[(0,r.jsxs)(M.ZP,{item:!0,xs:6,children:[(0,r.jsxs)(v.Z,{display:"flex",alignItems:"center",gap:.4,children:[(0,r.jsx)(J.Z,{color:"primary",fontSize:"inherit"}),(0,r.jsxs)(y.Z,{variant:"caption",children:["Sunrise: ",oe(i.sunrise,o)]})]}),(0,r.jsxs)(v.Z,{display:"flex",alignItems:"center",gap:.4,children:[(0,r.jsx)(U.Z,{color:"primary",fontSize:"inherit"}),(0,r.jsxs)(y.Z,{variant:"caption",children:["Humidity: ",i.humidity,"%"]})]}),(0,r.jsxs)(v.Z,{display:"flex",alignItems:"center",gap:.4,children:[(0,r.jsx)("img",{src:"images/icons/wind_dir/".concat((a=null===i||void 0===i?void 0:i.wind_deg,a>=337.5||a<22.5?"n.png":a>=22.5&&a<67.5?"ne.png":a>=67.5&&a<112.5?"e.png":a>=112.5&&a<157.5?"se.png":a>=157.5&&a<202.5?"s.png":a>=202.5&&a<247.5?"sw.png":a>=247.5&&a<292.5?"w.png":a>=292.5&&a<337.5?"nw.png":"n.png")),width:15,alt:"wind direction"}),(0,r.jsxs)(y.Z,{variant:"caption",children:["Wind: ",i.wind_speed," m/s "]})]}),(0,r.jsxs)(v.Z,{display:"flex",alignItems:"center",gap:.4,children:[(0,r.jsx)(F.Z,{color:"primary",fontSize:"inherit"}),(0,r.jsxs)(y.Z,{variant:"caption",children:["UV Index: ",i.uvi]})]})]}),(0,r.jsxs)(M.ZP,{item:!0,xs:6,children:[(0,r.jsxs)(v.Z,{display:"flex",alignItems:"center",gap:.4,children:[(0,r.jsx)(V.Z,{color:"primary",fontSize:"inherit"}),(0,r.jsxs)(y.Z,{variant:"caption",children:[" Sunset: ",oe(i.sunset,o)]})]}),(0,r.jsxs)(v.Z,{display:"flex",alignItems:"center",gap:.4,children:[(0,r.jsx)(B.Z,{color:"primary",fontSize:"inherit"}),(0,r.jsxs)(y.Z,{variant:"caption",children:["Pressure: ",i.pressure," hPa"]})]}),(0,r.jsxs)(v.Z,{display:"flex",alignItems:"center",gap:.4,children:[(0,r.jsx)(ie.Z,{color:"primary",fontSize:"inherit"}),(0,r.jsxs)(y.Z,{variant:"caption",children:["Rain: ",i.rain," mm/day "]})]}),(0,r.jsxs)(v.Z,{display:"flex",alignItems:"center",gap:.4,children:[(0,r.jsx)(X.Z,{color:"primary",fontSize:"inherit"}),(0,r.jsxs)(y.Z,{variant:"caption",children:["Dew Point:  ",i.dew_point,"\xb0C"]})]})]})]})]})]})})}function se(e){var n=e.weather,t=null===n||void 0===n?void 0:n.timezone;return(0,r.jsxs)(v.Z,{sx:{mt:2,overflowY:"auto",maxHeight:300,scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},children:[(0,r.jsx)(y.Z,{variant:"caption",sx:{mb:1},children:"8-day Forecast"}),null===n||void 0===n?void 0:n.daily.map((function(e,n){return(0,r.jsx)(le,{day:e,timezone:t},n)}))]})}var ce=t(99431);function de(e,n,t,a,i,r,o){try{var l=e[r](o),s=l.value}catch(c){return void t(c)}l.done?n(s):Promise.resolve(s).then(a,i)}function ue(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function pe(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function me(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function he(e){return he=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},he(e)}function fe(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},a=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),a.forEach((function(n){me(e,n,t[n])}))}return e}function xe(e,n){return!n||"object"!==ve(n)&&"function"!==typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function ge(e,n){return ge=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},ge(e,n)}var ve=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function be(e){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,a=he(e);if(n){var i=he(this).constructor;t=Reflect.construct(a,arguments,i)}else t=a.apply(this,arguments);return xe(this,t)}}var ye={BASE_API_URL:"https://amia-cis-9aoz.onrender.com/api",OW_TEST:"".concat("https://amia-cis-9aoz.onrender.com/api","/owdata"),OW_PROD:"".concat("https://amia-cis-9aoz.onrender.com/api","/owdata"),OW_DEV:"".concat("https://amia-cis-9aoz.onrender.com/api","/owdata")},je=function(e){!function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&ge(e,n)}(o,e);var n,t,a,r=be(o);function o(){return ue(this,o),r.apply(this,arguments)}return n=o,t=[{key:"OWConnection",value:function(e){var n,t=this;return(n=i().mark((function n(){var a,r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.createRequestObjectNoAuth(e);case 2:return a=n.sent,n.next=5,l()(fe({},a,{url:ye.OW_TEST,method:"GET",params:e}));case 5:return r=n.sent,n.abrupt("return",r.data);case 7:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(a,i){var r=n.apply(e,t);function o(e){de(r,a,i,o,l,"next",e)}function l(e){de(r,a,i,o,l,"throw",e)}o(void 0)}))})()}}],t&&pe(n.prototype,t),a&&pe(n,a),o}(ce.Z),Se=new je,we=Se.OWConnection.bind(Se),Ze=t(61121);function _e(e,n,t,a,i,r,o){try{var l=e[r](o),s=l.value}catch(c){return void t(c)}l.done?n(s):Promise.resolve(s).then(a,i)}function ke(e){return function(){var n=this,t=arguments;return new Promise((function(a,i){var r=e.apply(n,t);function o(e){_e(r,a,i,o,l,"next",e)}function l(e){_e(r,a,i,o,l,"throw",e)}o(void 0)}))}}function Ce(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function Pe(){var e=Ce(["\n  color: black;\n  background-color: rgba(255, 255, 255, 0.50);\n\n  "]);return Pe=function(){return e},e}function Ie(){var e=Ce(["\n    background-color: rgba(255, 255, 255, 0.50);\n\n    "]);return Ie=function(){return e},e}function Ae(e,n){return new Date(1e3*e).toLocaleString("en-PH",{timeZone:n,weekday:"short",hour:"2-digit",minute:"2-digit",hour12:!0,month:"short",day:"2-digit"})}var Oe=function(e){var n,t,a,o,l,c=e.isSmallScreen,d=void 0===c||c,u=(0,s.useState)(!0),p=u[0],m=u[1],h=(0,s.useState)([]),f=h[0],x=h[1],g=(0,s.useState)({latitude:null,longitude:null}),k=g[0],C=g[1],P=(0,s.useState)(null),L=P[0],N=P[1],T=(0,s.useState)(null),R=(T[0],T[1]),M=(0,s.useState)(!0),D=M[0],H=M[1],G=(0,s.useState)(null),F=G[0],U=G[1],B=(0,s.useState)("Getting user location..."),Y=B[0],J=B[1],V=(0,s.useState)(null),X=V[0],K=V[1],Q=(0,s.useState)({rain:[],time:[],temperature:[],dew_point:[],pop:[],condition:[],humidity:[],wind_speed:[],wind_gust:[],wind_dir:[]}),q=Q[0],$=Q[1],ee=(0,s.useState)(0),te=(ee[0],ee[1],(0,s.useState)(null)),ae=te[0],ie=te[1],re=(0,s.useState)(!1),oe=re[0],le=re[1],ce=function(){return le(!0)},de=function(){return le(!1)},ue=(0,s.useState)(0),pe=ue[0],me=ue[1],he=(0,Z.ZP)(j.Z)(Pe()),fe=(0,Z.ZP)(b.Z)(Ie()),xe={position:"absolute",top:function(e){return e.constants.navbar.outerHeight-5},right:50,zIndex:400,width:"500px"},ge={position:"absolute",top:100,zIndex:1e3,width:"85%",margin:"8%"},ve=function(){m(!p)},be=function(){var e=ke(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(navigator.geolocation){e.next=4;break}return K(!0),J("Geolocation not supported"),e.abrupt("return");case 4:navigator.geolocation.getCurrentPosition(function(){var e=ke(i().mark((function e(n){var t,a,r,o,l,s,c,d,u,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.coords,a=t.latitude,r=t.longitude,C({latitude:a,longitude:r}),o="https://api.opencagedata.com/geocode/v1/json?q=".concat(a,"+").concat(r,"&key=").concat("9282d14f9fdb4a43a4b4a963a368635d"),e.prev=3,e.next=7,fetch(o);case 7:return u=e.sent,e.next=10,u.json();case 10:p=e.sent,N({lat:a,lon:r,name:"".concat(null===(l=null===p||void 0===p?void 0:p.results[0])||void 0===l||null===(s=l.components)||void 0===s?void 0:s._normalized_city,", ").concat(null===(c=null===p||void 0===p?void 0:p.results[0])||void 0===c||null===(d=c.components)||void 0===d?void 0:d.state)}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(n){return e.apply(this,arguments)}}(),(function(e){switch(K(!0),e.code){case e.PERMISSION_DENIED:J("User denied the request for Geolocation, please enable Geolocation to get weather updates.");break;case e.POSITION_UNAVAILABLE:J("Location information is unavailable.");break;case e.TIMEOUT:J("The request to get user location timed out.");break;default:J("An unknown error occurred.")}H(!1)}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,s.useEffect)((function(){be()}),[]),(0,s.useEffect)((function(){null===k.latitude&&null===k.longitude||je()}),[k.latitude]),(0,s.useEffect)((function(){if(0!==f.length){var e=null===f||void 0===f?void 0:f.hourly,n=e.slice(0,12).map((function(e){var n;return(null===(n=e.rain)||void 0===n?void 0:n["1h"])||0})),t=e.slice(0,12).map((function(e){return new Date(Ae(e.dt,f.timezone)).toLocaleTimeString("en-US",{hour:"numeric",hour12:!0}).toLowerCase().replace(" ","")})),a=e.slice(0,12).map((function(e){return e.temp})),i=e.slice(0,12).map((function(e){return e.dew_point})),r=e.slice(0,12).map((function(e){return e.pop})),o=e.slice(0,12).map((function(e){var n;return null===(n=null===e||void 0===e?void 0:e.weather[0])||void 0===n?void 0:n.description})),l=e.slice(0,12).map((function(e){return e.humidity})),s=e.slice(0,12).map((function(e){return e.wind_speed})),c=e.slice(0,12).map((function(e){return e.wind_gust})),d=e.slice(0,12).map((function(e){return e.wind_deg}));$({rain:n,time:t,temperature:a,dew_point:i,pop:r,condition:o,humidity:l,wind_speed:s,wind_gust:c,wind_dir:d})}}),[f]);var ye,je=function(){var e=ke(i().mark((function e(){var n,t,a,r,o,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,we({latitude:(null===k||void 0===k?void 0:k.latitude)||14,longitude:(null===k||void 0===k?void 0:k.longitude)||121});case 3:(n=e.sent)?(x(n),R(Ae(null===(t=null===n||void 0===n?void 0:n.hourly[0])||void 0===t?void 0:t.dt,null===n||void 0===n?void 0:n.timezone))):J("API error: "+((null===n||void 0===n?void 0:n.message)||"unknown")),H(!1),e.next=14;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("error at",(null===e.t0||void 0===e.t0||null===(a=e.t0.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.message)||e.t0),U(null===e.t0||void 0===e.t0||null===(o=e.t0.response)||void 0===o||null===(l=o.data)||void 0===l?void 0:l.message),H(!1);case 14:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return(0,s.useEffect)((function(){if(f){var e=f.alert||f.alerts;e&&0!==e.length&&ie(e)}}),[f]),D?(0,r.jsx)(v.Z,{sx:d?ge:xe,className:"mui-fixed",style:{backdropFilter:"blur(5px)",WebkitBackdropFilter:"blur(5px)",borderRadius:"8px"},children:(0,r.jsxs)(he,{expanded:p,onChange:ve,slots:{transition:_.Z},slotProps:{transition:{timeout:400}},children:[(0,r.jsx)(S.Z,{expandIcon:(0,r.jsx)(w.Z,{}),"aria-controls":"panel1-content",id:"panel1-header",sx:{borderRadius:"5px"},children:(0,r.jsx)(y.Z,{component:"span",variant:"h6",children:" Weather Today"})}),(0,r.jsx)(fe,{variant:"outlined",sx:{padding:"5px",height:d?"850px":"750px"},children:(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",width:"100%",alignItems:"center",alignContent:"center",height:"50%"},children:[(0,r.jsx)(A.Z,{}),(0,r.jsx)(y.Z,{variant:"caption",children:"Loading weather data. Please wait."})]})})]})}):X?(0,r.jsx)(v.Z,{sx:d?ge:xe,className:"mui-fixed",style:{backdropFilter:"blur(5px)",WebkitBackdropFilter:"blur(5px)",borderRadius:"8px"},children:(0,r.jsxs)(he,{expanded:p,onChange:ve,slots:{transition:_.Z},slotProps:{transition:{timeout:400}},children:[(0,r.jsx)(S.Z,{expandIcon:(0,r.jsx)(w.Z,{}),"aria-controls":"panel1-content",id:"panel1-header",sx:{borderRadius:"5px"},children:(0,r.jsx)(y.Z,{component:"span",variant:"h6",children:" Weather Today"})}),(0,r.jsx)(fe,{variant:"outlined",sx:{padding:"5px",height:d?"850px":"750px"},children:(0,r.jsxs)("div",{children:[(0,r.jsx)(ne,{weather:f,address:L,alert:ae,handleOpen:ce,setCoords:C,setAddress:N,getLocation:be,locationStatusErr:X,status:Y}),(0,r.jsxs)(v.Z,{sx:{mt:-3},children:[(0,r.jsxs)(O.Z,{value:pe,onChange:function(e,n){return me(n)},centered:!0,textColor:"primary",indicatorColor:"primary",sx:{minHeight:"28px"},children:[(0,r.jsx)(E.Z,{label:"HOURLY",sx:{fontWeight:500,fontSize:"0.7rem",minHeight:"28px"}}),(0,r.jsx)(E.Z,{label:"DAILY",sx:{fontWeight:500,fontSize:"0.7rem",minHeight:"28px"}})]}),(0,r.jsxs)(v.Z,{sx:{p:1,textAlign:"center"},children:[0===pe&&(0,r.jsx)(y.Z,{variant:"caption",color:"text.secondary",children:(0,r.jsx)("div",{style:{marginTop:"10px",maxWidth:"470px",overflowX:"scroll",scrollbarWidth:"none",msOverflowStyle:"none"},children:(0,r.jsx)(I,{data:q,isSmallScreen:d,alert:ae})})}),1===pe&&(0,r.jsx)(y.Z,{variant:"caption",color:"text.secondary",children:(0,r.jsx)(se,{weather:f})})]})]})]})})]})}):F&&0===f.length?(0,r.jsx)(v.Z,{sx:d?ge:xe,className:"mui-fixed",style:{backdropFilter:"blur(5px)",WebkitBackdropFilter:"blur(5px)",borderRadius:"8px"},children:(0,r.jsxs)(he,{expanded:p,onChange:ve,slots:{transition:_.Z},slotProps:{transition:{timeout:400}},children:[(0,r.jsx)(S.Z,{expandIcon:(0,r.jsx)(w.Z,{}),"aria-controls":"panel1-content",id:"panel1-header",sx:{borderRadius:"5px"},children:(0,r.jsx)(y.Z,{component:"span",variant:"h6",children:" Weather Today"})}),(0,r.jsx)(fe,{variant:"outlined",sx:{padding:"5px",height:d?"850px":"750px"},children:(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",width:"100%",alignItems:"center",alignContent:"center",height:"50%"},children:[(0,r.jsx)(Ze.KXo,{size:40}),(0,r.jsx)(y.Z,{variant:"caption",children:F})]})})]})}):(0,r.jsx)(v.Z,{sx:d?ge:xe,className:"mui-fixed",style:{backdropFilter:"blur(5px)",WebkitBackdropFilter:"blur(5px)",borderRadius:"8px"},children:(0,r.jsxs)(he,{expanded:p,onChange:ve,slots:{transition:_.Z},slotProps:{transition:{timeout:400}},children:[(0,r.jsx)(S.Z,{expandIcon:(0,r.jsx)(w.Z,{}),"aria-controls":"panel1-content",id:"panel1-header",sx:{borderRadius:"5px"},children:(0,r.jsx)(y.Z,{component:"span",variant:"h6",children:" Weather Today"})}),(0,r.jsx)(fe,{variant:"outlined",sx:{padding:"5px",height:d?"850px":"750px"},children:(0,r.jsxs)("div",{children:[(0,r.jsx)(ne,{weather:f,address:L,alert:ae,handleOpen:ce,setCoords:C,setAddress:N,getLocation:be}),(0,r.jsxs)(v.Z,{sx:{mt:-3},children:[(0,r.jsxs)(O.Z,{value:pe,onChange:function(e,n){return me(n)},centered:!0,textColor:"primary",indicatorColor:"primary",sx:{minHeight:"28px"},children:[(0,r.jsx)(E.Z,{label:"HOURLY",sx:{fontWeight:500,fontSize:"0.7rem",minHeight:"28px"}}),(0,r.jsx)(E.Z,{label:"DAILY",sx:{fontWeight:500,fontSize:"0.7rem",minHeight:"28px"}})]}),(0,r.jsxs)(v.Z,{sx:{p:1,textAlign:"center"},children:[0===pe&&(0,r.jsx)(y.Z,{variant:"caption",color:"text.secondary",children:(0,r.jsx)("div",{style:{marginTop:"10px",maxWidth:"470px",overflowX:"scroll",scrollbarWidth:"none",msOverflowStyle:"none"},children:(0,r.jsx)(I,{data:q,isSmallScreen:d,alert:ae})})}),1===pe&&(0,r.jsx)(y.Z,{variant:"caption",color:"text.secondary",children:(0,r.jsx)(se,{weather:f})})]})]}),(0,r.jsx)("div",{children:null!==ae&&(0,r.jsx)(z.Z,{open:oe,onClose:de,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:(0,r.jsxs)(v.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:d?310:500,bgcolor:"background.paper",borderRadius:2,boxShadow:24,p:3,textAlign:"center",borderLeft:"10px solid #d4693cff",height:d?400:500,overflowY:"scroll",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,r.jsx)(y.Z,{id:"simple-modal-title",variant:"h6",component:"h2",children:null===(n=ae[0])||void 0===n?void 0:n.event}),(0,r.jsxs)("div",{style:{overflowY:"scroll"},children:[(0,r.jsx)(y.Z,{variant:"caption",color:"text.secondary",children:null===(t=ae[0])||void 0===t?void 0:t.sender_name}),(0,r.jsx)("br",{}),(0,r.jsxs)(y.Z,{variant:"caption",color:"text.secondary",children:[Ae(null===(a=ae[0])||void 0===a?void 0:a.start,null===f||void 0===f?void 0:f.timezone)," -  ",Ae(null===(o=ae[0])||void 0===o?void 0:o.end,null===f||void 0===f?void 0:f.timezone)]})]}),(0,r.jsx)(y.Z,{variant:"caption",color:"text.secondary",children:(ye=(null===(l=ae[0])||void 0===l?void 0:l.description)||"",ye.split(/(\*\*.*?\*\*)/g).map((function(e,n){if(e.startsWith("**")&&e.endsWith("**")){var t=e.replace(/\*\*/g,"");return(0,r.jsx)("span",{style:{color:"#d32f2f",fontWeight:"700",fontSize:"1.05rem"},children:t},n)}return(0,r.jsx)("span",{children:e},n)})))}),(0,r.jsx)(W.Z,{variant:"outlined",sx:{mt:2},onClick:de,children:"Close"})]})})})]})})]})})},Ee=t(18217),ze=t(23549),We=t(56867),Le=t(901),Ne=t(1902);function Te(e,n,t,a,i,r,o){try{var l=e[r](o),s=l.value}catch(c){return void t(c)}l.done?n(s):Promise.resolve(s).then(a,i)}function Re(e){return function(){var n=this,t=arguments;return new Promise((function(a,i){var r=e.apply(n,t);function o(e){Te(r,a,i,o,l,"next",e)}function l(e){Te(r,a,i,o,l,"throw",e)}o(void 0)}))}}function Me(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function De(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},a=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),a.forEach((function(n){Me(e,n,t[n])}))}return e}var He={sel_municipality:null,sel_province:"",loading:!0,error:""},Ge={icon:"https://openweathermap.org/img/wn/10d@2x.png",temp:"00",pressure:"0000 hPa",humidity:"0%",wind:"00 meter/sec"};var Fe=function(e){e.record;var n=e.isSmallScreen,t=e.onSelectMunicipality,a=(0,s.useState)(He),o=a[0],l=a[1],d=(0,s.useState)(Ge),u=(d[0],d[1]),p=(0,s.useState)([]),m=p[0],h=p[1],f=(0,s.useState)(!1),x=f[0],g=f[1],v=(0,c.I0)(),b=(0,c.v9)((function(e){return e.provinces})),y=b.ids,j=b.entities,S=b.municipalities,w=b.province,Z=(0,c.v9)((function(e){return e.municipalities})).municipality,_=(0,c.v9)((function(e){return e.tendayweather})),k=_.ids,C=_.entities,P=_.status;(0,s.useEffect)((function(){v((0,Ee.QA)(null))}),[v]),(0,s.useEffect)((function(){y.length>0&&(v((0,ze.Wn)(Object.values(j)[0])),v((0,We.R)(Object.values(j)[0].label)).unwrap().then((function(){g(!0)})))}),[v,y,j]),(0,s.useEffect)((function(){if(k.length>0&&P===Le.G.FULLFILLED&&x&&null!==w){var e=null;if(Z)e=Z;else{var n=Object.keys(S).find((function(e){return e===w.label}));n&&S[n].length>0&&(e=S[n][0])}v((0,Ee.X4)(S[w.label]||[])),v((0,Ee.QA)(e))}}),[v,k,C,P,x,Z,S,w]),(0,s.useEffect)((function(){null!==Z&&x&&l((function(e){return De({},e,{sel_province:w,sel_municipality:Z})}))}),[v,Z,w,C,P,x]),(0,s.useEffect)((function(){if(P===Le.G.FULLFILLED&&null!==o.sel_municipality&&0===m.length)try{t(o.sel_municipality.label,o.sel_province.label);var e=Object.values(C).find((function(e){return e.municipality===o.sel_municipality.label}));if(e){var n=JSON.parse(e.data),a=(new Date).toDateString(),i=n.find((function(e){return e.day_format===a.substring(0,a.length-5)}))||n[0],r={icon:void 0!==Ne.Sx.rainfall[i.rainfall]?"images/icons/weather/".concat(Ne.Sx.rainfall[i.rainfall]):"images/icons/weather/blank_weather.png",temp:Math.round(i.tmean),precipitation:null,humidity:"".concat(A(i.humidity),"%"),datenow:a,wind:"".concat(A(i.wspeed)," mps"),description:"".concat(O(i.rainfall),", ").concat(O(i.cover))},s=[];n.forEach((function(e){var n=new Date("".concat(e.day_format,", ").concat((new Date).getFullYear())),t={day:e.day_format,wind_speed:A(e.wspeed),temp_mean:A(e.tmean),temp_max:A(e.tmax),temp_min:A(e.tmin),icon:void 0!==e.rainfall?"images/icons/weather/".concat(Ne.Sx.rainfall[e.rainfall]):"images/icons/weather/blank_weather.png",date:n.toLocaleDateString("en-US"),description:""};s.push(t)})),u(r),h(s),l((function(e){return De({},e,{loading:!1,error:""})}))}}catch(c){l((function(e){return De({},e,{loading:!1,error:c.message})}))}}),[P,C,j,m,o.sel_municipality,o.sel_province.label,t]);var I=(0,s.useCallback)(function(){var e=Re(i().mark((function e(n,t){var a,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=S[t.label],void 0!==(r=a.find((function(e){return e.label===n})))){e.next=4;break}return e.abrupt("return");case 4:h([]),l(De({},o,{sel_municipality:r,sel_province:t,loading:!0,error:""})),v((0,We.R)(t.label));case 7:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),[S,o,v]),A=(function(){var e=Re(i().mark((function e(n,a){var r,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.label,s=a.from,!r){e.next=21;break}e.t0=s,e.next="province"===e.t0?5:"municipality"===e.t0?9:18;break;case 5:return v((0,ze.Wn)(a)),v((0,We.R)(r)),v((0,Ee.X4)([])),e.abrupt("break",19);case 9:if(v((0,Ee.QA)({id:a.id,label:a.label,iscalendar:a.iscalendar})),void 0!==a.id){e.next=16;break}return l(De({},o,{sel_municipality:null,loading:!1})),u(Ge),h([]),t(null),e.abrupt("return");case 16:return I(a.label,null===a||void 0===a?void 0:a.province),e.abrupt("break",19);case 18:return e.abrupt("break",19);case 19:e.next=30;break;case 21:e.t1=s,e.next="province"===e.t1?24:"municipality"===e.t1?27:29;break;case 24:return v((0,ze.jg)()),v((0,Ee.X4)([])),e.abrupt("break",30);case 27:return v((0,Ee.QA)(null)),e.abrupt("break",30);case 29:return e.abrupt("break",30);case 30:case"end":return e.stop()}}),e)})))}(),function(e){return Math.round(100*(e+Number.EPSILON))/100}),O=function(e){return e.split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()})).join(" ")};return(0,r.jsx)(Oe,{isSmallScreen:n})},Ue=[{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",name:"Satellite Map",attribution:"Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"},{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}",name:"Street Map",attribution:"Tiles &copy; Esri &mdash; Source: Esri, DeLorme, NAVTEQ, USGS, Intermap, iPC, NRCAN, Esri Japan, METI, Esri China (Hong Kong), Esri (Thailand), TomTom, 2012"},{url:"https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png",name:"Topography Map",attribution:'Map data: &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'},{url:"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",name:"Light",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>'},{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Shaded_Relief/MapServer/tile/{z}/{y}/{x}",name:"Shaded Relief",attribution:"Tiles &copy; Esri &mdash; Source: Esri"},{url:"https://tileserver.memomaps.de/tilegen/{z}/{x}/{y}.png",name:"MemoMaps",attribution:'Map <a href="https://memomaps.de/">memomaps.de</a> <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'},{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}",name:"ESRI WorldTopo",attribution:"Tiles &copy; Esri &mdash; Esri, DeLorme, NAVTEQ, TomTom, Intermap, iPC, USGS, FAO, NPS, NRCAN, GeoBase, Kadaster NL, Ordnance Survey, Esri Japan, METI, Esri China (Hong Kong), and the GIS User Community"},{url:"https://server.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer/tile/{z}/{y}/{x}",name:"ESRI NatGeo",attribution:"Tiles &copy; Esri &mdash; National Geographic, Esri, DeLorme, NAVTEQ, UNEP-WCMC, USGS, NASA, ESA, METI, NRCAN, GEBCO, NOAA, iPC"}],Be={map:{width:"100%",height:"calc(100vh - 88px - 519px)",maxWidth:function(e){return e.breakpoints.xl}},fbchat:{position:"fixed",bottom:"10px",right:"10px",zIndex:9999}},Ye=t(47426),Je=t(26660),Ve=t(25675),Xe=t(22797),Ke={container:{backgroundColor:"rgba(251, 248, 250, 0.6)"},accordionHeader:{display:"flex",flexDirection:"column",justifyContent:"flex-start",width:"100%"},accordionHeaderLocation:{display:"flex",justifyContent:"center",alignItems:"center",alignSelf:"flex-start"},temperatureContainer:{display:"flex",marginTop:-25,justifyContent:"flex-start"},temperatureLabels:{display:"flex",flexDirection:"column",marginLeft:"1.2em",width:"70%",description:{fontSize:"11px",color:"#1E0A46",lineHeight:"-5px"},label:{fontSize:"12px",color:"black",marginBottom:"-10px"},value:{fontSize:"20px",fontWeight:"bold",fontFamily:"Manrope",color:"rgba(30,10,70)",unit:{fontSize:"40px"}}},grids:{container:{width:"30%",height:"80px",margin:"5px",display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",padding:"10px",backgroundColor:"rgba(255,255,255, 0.7)",transition:"background-color 0.3s ease, box-shadow 0.3s ease","&:hover":{backgroundColor:"rgba(255,255,255, 0.9)",boxShadow:3,cursor:"pointer"}},header:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},label:{fontSize:"9px",color:"black"},value:{fontSize:"12px",fontWeight:"bold",fontFamily:"Manrope",letterSpacing:"-1px",color:"rgba(30,10,70)"},unit:{fontSize:"12px",color:"#2196F3",fontWeight:"normal"}}},Qe=t(55113);var qe=function(e){var n=function(e){return["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW","N"][Math.round(e/22.5)]};return(0,r.jsxs)(Qe.Z,{sx:Ke.grids.container,onClick:function(){return e.handleHighlightClick({label:e.label,value:e.value,unit:"Wind Direction"===e.label?"\xba  ".concat(n(e.value)):e.unit,imageLink:"Wind Direction"===e.label?"images/icons/aws/wind_direction/".concat(n(e.value),".png"):e.imageLink,description:(t=e.label,{RH:"Percentage of water vapor in the air compared to the maximum amount the air can hold at a given temperature","Dew Point":"The temperature at which air becomes fully saturated with moisture (100% relative humidity), causing condensation (dew, fog, or rain).",Rain:"Liquid water droplets that fall from clouds when they become too heavy to stay suspended in the atmosphere",Temperature:"The temperature of the Earths atmosphere at different altitudes",Pressure:"Atmospheric pressure is the force exerted by the weight of the air in the Earth\x02s atmosphere","Solar Radiation":"Solar radiation is the energy emitted by the Sun in the form of electromagnetic waves. It includes visible light, ultraviolet (UV), and infrared (heat) radiation.","Wind Speed":"Refers to the rate at which air moves across the Earth\x02s surface.","Gust Speed":"A sudden, brief increase in wind speed that lasts for a few seconds to minutes.","Wind Direction":"Wind direction refers to the direction from which the wind is blowing."}[t])});var t},children:[(0,r.jsxs)("div",{style:Ke.grids.header,children:[(0,r.jsx)(y.Z,{sx:Ke.grids.label,children:e.label}),(0,r.jsxs)(y.Z,{sx:Ke.grids.value,children:[e.value,(0,r.jsx)("span",{style:Ke.grids.unit,children:"Wind Direction"===e.label?"\xba  ".concat(n(e.value)):e.unit})]})]}),(0,r.jsx)(Ve.default,{unoptimized:!0,src:(0,Je.assetPrefixer)("".concat("Wind Direction"===e.label?"images/icons/aws/wind_direction/".concat(n(e.value),".png"):e.imageLink)),height:30,width:30,loader:Je.imageLoader,alt:e.label})]})};var $e=function(e){return(0,r.jsxs)("div",{style:Ke.temperatureContainer,children:[(0,r.jsx)("div",{style:{width:"100px",height:"100px",paddingLeft:"10px",display:"flex",alignItems:"center",backgroundColor:""},children:(0,r.jsx)(Ve.default,{unoptimized:!0,src:(0,Je.assetPrefixer)(e.imageLink),height:80,width:80,loader:Je.imageLoader,alt:"Temperature"})}),(0,r.jsxs)("div",{style:Ke.temperatureLabels,children:[(0,r.jsx)(y.Z,{sx:Ke.temperatureLabels.label,children:(0,r.jsxs)("span",{children:["  ",e.label," "]})}),(0,r.jsxs)(y.Z,{sx:Ke.temperatureLabels.value,children:[(0,r.jsxs)("span",{style:Ke.temperatureLabels.value.unit,children:[e.value,"  "]})," ",(0,r.jsxs)("span",{children:[" ",e.unit," "]})]}),(0,r.jsx)("div",{style:{backgroundColor:""},children:(0,r.jsx)(y.Z,{sx:Ke.temperatureLabels.description,children:e.description})})]})]})},en=t(18972),nn=t(94054),tn=t(18360);function an(e,n,t,a,i,r,o){try{var l=e[r](o),s=l.value}catch(c){return void t(c)}l.done?n(s):Promise.resolve(s).then(a,i)}function rn(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function on(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ln(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function sn(e){return sn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},sn(e)}function cn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},a=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),a.forEach((function(n){ln(e,n,t[n])}))}return e}function dn(e,n){return!n||"object"!==pn(n)&&"function"!==typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function un(e,n){return un=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},un(e,n)}var pn=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function mn(e){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,a=sn(e);if(n){var i=sn(this).constructor;t=Reflect.construct(a,arguments,i)}else t=a.apply(this,arguments);return dn(this,t)}}var hn={BASE_API_URL:"https://amia-cis-9aoz.onrender.com/api",AWS_TEST:"".concat("https://amia-cis-9aoz.onrender.com/api","/aws"),AWS_PROD:"".concat("https://amia-cis-9aoz.onrender.com/api","/aws"),AWS_DEV:"".concat("https://amia-cis-9aoz.onrender.com/api","/aws")},fn=function(e){!function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&un(e,n)}(o,e);var n,t,a,r=mn(o);function o(){return rn(this,o),r.apply(this,arguments)}return n=o,t=[{key:"AWSConnection",value:function(e){var n,t=this;return(n=i().mark((function n(){var a,r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.createRequestObjectNoAuth(e);case 2:return a=n.sent,n.next=5,l()(cn({},a,{url:hn.AWS_TEST,method:"GET",params:e}));case 5:return r=n.sent,n.abrupt("return",r.data);case 7:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(a,i){var r=n.apply(e,t);function o(e){an(r,a,i,o,l,"next",e)}function l(e){an(r,a,i,o,l,"throw",e)}o(void 0)}))})()}}],t&&on(n.prototype,t),a&&on(n,a),o}(ce.Z),xn=new fn,gn=xn.AWSConnection.bind(xn),vn=t(57709),bn=t(71983);function yn(e,n,t,a,i,r,o){try{var l=e[r](o),s=l.value}catch(c){return void t(c)}l.done?n(s):Promise.resolve(s).then(a,i)}function jn(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var Sn=function(e){var n=(0,s.useState)(0),t=n[0],a=n[1],o=(0,s.useState)([]),l=o[0],c=o[1],d=(0,s.useState)(),u=d[0],p=d[1],m=(0,s.useState)(!0),h=m[0],f=m[1],x=(0,s.useState)("IPIL"),g=x[0],b=x[1],w=(0,s.useState)(null),Z=w[0],_=(w[1],(0,s.useState)(!1)),k=_[0],C=_[1],P=function(){var e,n=(e=i().mark((function e(){var n,t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,gn({location:g,startingNum:30,type:"minutes"});case 3:if((n=e.sent).data){e.next=6;break}return e.abrupt("return");case 6:(t=n.data.filter((function(e){return"Battery"!==e.sensor_measurement_type}))).length>10?(p({value:t[0].value.toFixed(1),label:t[0].sensor_measurement_type,unit:t[0].unit,imageLink:"images/icons/aws/Temperature.png",description:"The temperature of the Earths atmosphere."}),c(t.slice(-9))):c(t),f(!1),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("Fetch error:",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})),function(){var n=this,t=arguments;return new Promise((function(a,i){var r=e.apply(n,t);function o(e){yn(r,a,i,o,l,"next",e)}function l(e){yn(r,a,i,o,l,"throw",e)}o(void 0)}))});return function(){return n.apply(this,arguments)}}();(0,s.useEffect)((function(){P()}),[g]),(0,s.useEffect)((function(){var e=function(){return a((window.innerWidth-I())/10+22)};return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]);var I=function(){var e=document.getElementById("header-contents");return e?e.getBoundingClientRect().width:1200},O=function(e){p((function(n){return function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},a=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),a.forEach((function(n){jn(e,n,t[n])}))}return e}({},n,{value:e.value,label:e.label,unit:e.unit,imageLink:e.imageLink,description:e.description})}))},E=function(e){b(e.target.value)},L={position:"absolute",top:void 0===e.smallScreen?I()<710?850:100:70,left:I()<710?-13:t,marginLeft:"24px",zIndex:400,width:"350px"},N={position:"absolute",top:100,zIndex:1e3,width:"84%",margin:"7%"};return h?(0,r.jsx)(v.Z,{sx:e.isSmallScreen?N:L,className:"mui-fixed",id:"aws-container",style:{backdropFilter:"blur(15px)",WebkitBackdropFilter:"blur(15px)",borderRadius:"8px"},children:(0,r.jsxs)(j.Z,{expanded:e.expandedAws,onChange:e.handleChange,sx:Ke.container,children:[(0,r.jsx)(S.Z,{"aria-controls":"panel1bh-content",id:"panel1bh-header",children:(0,r.jsxs)("div",{style:Ke.accordionHeader,children:[(0,r.jsx)(y.Z,{component:"span",sx:{width:"100%",flexShrink:0,fontSize:"17px"},children:(0,r.jsx)("span",{children:" Automated Weather System  "})}),(0,r.jsx)("div",{style:Ke.accordionHeaderLocation,children:(0,r.jsx)(nn.Z,{fullWidth:!0,children:(0,r.jsxs)(tn.Z,{input:(0,r.jsx)(vn.Z,{startAdornment:(0,r.jsx)(T.Z,{position:"start",children:(0,r.jsx)(bn.Z,{})})}),defaultValue:"ipil",onChange:E,children:[(0,r.jsx)(en.Z,{value:"ipil",children:"Ipil, Zamboanga Sibugay "}),(0,r.jsx)(en.Z,{value:"betinan",children:"Betinan, San Miguel"})]})})})]})}),(0,r.jsx)(Xe.Z,{children:(0,r.jsxs)("div",{style:{height:"120px",display:"flex",justifyContent:"center",alignItems:"center"},children:[(0,r.jsx)(A.Z,{size:15,color:"info"})," ",(0,r.jsx)(y.Z,{variant:"h6",sx:{marginLeft:"10px"},children:" Fetching data from AWS... "})]})})]})}):0===l.length&&Z?(0,r.jsx)(v.Z,{sx:e.isSmallScreen?N:L,className:"mui-fixed",id:"aws-container",style:{backdropFilter:"blur(15px)",WebkitBackdropFilter:"blur(15px)",borderRadius:"8px"},children:(0,r.jsxs)(j.Z,{expanded:e.expandedAws,onChange:e.handleChange,sx:Ke.container,children:[(0,r.jsx)(S.Z,{"aria-controls":"panel1bh-content",id:"panel1bh-header",children:(0,r.jsxs)("div",{style:Ke.accordionHeader,children:[(0,r.jsx)(y.Z,{component:"span",sx:{width:"100%",flexShrink:0,fontSize:"17px"},children:(0,r.jsx)("span",{children:" Automated Weather System  "})}),(0,r.jsx)("div",{style:Ke.accordionHeaderLocation,children:(0,r.jsx)(nn.Z,{fullWidth:!0,children:(0,r.jsxs)(tn.Z,{input:(0,r.jsx)(vn.Z,{startAdornment:(0,r.jsx)(T.Z,{position:"start",children:(0,r.jsx)(bn.Z,{})})}),defaultValue:"ipil",onChange:E,children:[(0,r.jsx)(en.Z,{value:"ipil",children:"Ipil, Zamboanga Sibugay "}),(0,r.jsx)(en.Z,{value:"betinan",children:"Betinan, San Miguel"})]})})})]})}),(0,r.jsx)(Xe.Z,{children:(0,r.jsxs)("div",{style:{height:"120px",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[(0,r.jsx)(Ze.KXo,{size:40}),(0,r.jsxs)(y.Z,{variant:"caption",children:[" ",Z]})]})})]})}):!Z&&l.length>0?(0,r.jsxs)(v.Z,{sx:e.isSmallScreen?N:L,className:"mui-fixed",id:"aws-container",style:{backdropFilter:"blur(15px)",WebkitBackdropFilter:"blur(15px)",borderRadius:"8px"},children:[(0,r.jsxs)(j.Z,{expanded:e.expandedAws,onChange:e.handleChange,sx:Ke.container,children:[(0,r.jsx)(S.Z,{"aria-controls":"panel1bh-content",id:"panel1bh-header",children:(0,r.jsxs)("div",{style:Ke.accordionHeader,children:[(0,r.jsx)(y.Z,{component:"span",sx:{width:"100%",flexShrink:0,fontSize:"17px"},children:(0,r.jsx)("span",{children:" Automated Weather System  "})}),(0,r.jsx)("div",{style:Ke.accordionHeaderLocation,children:(0,r.jsx)(nn.Z,{fullWidth:!0,children:(0,r.jsxs)(tn.Z,{input:(0,r.jsx)(vn.Z,{startAdornment:(0,r.jsx)(T.Z,{position:"start",children:(0,r.jsx)(bn.Z,{})})}),defaultValue:"ipil",onChange:E,children:[(0,r.jsx)(en.Z,{value:"ipil",children:"Ipil, Zamboanga Sibugay "}),(0,r.jsx)(en.Z,{value:"betinan",children:"Betinan, San Miguel"})]})})})]})}),h?(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"20px"},children:[" ",(0,r.jsx)(A.Z,{size:15,color:"info"})," ",(0,r.jsx)(y.Z,{variant:"h6",sx:{marginLeft:"10px"},children:" Fetching data from AWS... "})," "]}):(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(Xe.Z,{children:[(0,r.jsx)("div",{style:{height:"120px"},children:0===l.length?(0,r.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center"},children:(0,r.jsx)(y.Z,{variant:"subtitle2",color:"gray",children:"Cannot connect at this moment"})}):(0,r.jsx)($e,{value:null===u||void 0===u?void 0:u.value,label:null===u||void 0===u?void 0:u.label,unit:null===u||void 0===u?void 0:u.unit,imageLink:null===u||void 0===u?void 0:u.imageLink,description:null===u||void 0===u?void 0:u.description})}),(0,r.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"space-evenly",marginTop:"10px"},children:[l.map((function(e,n){return(0,r.jsx)(qe,{value:e.value.toFixed(1),label:e.sensor_measurement_type,unit:e.unit,imageLink:"images/icons/aws/".concat(e.sensor_measurement_type,".png"),description:"Percentage of water vapor in the air compared to the maximum amount the air can hold at a given temperature. ",handleHighlightClick:O},n)})),(0,r.jsx)(W.Z,{color:"primary",variant:"outlined",size:"small",onClick:function(){return C(!0)},children:"View Full Data"})]}),(0,r.jsx)("div",{style:{height:"10px",backgroundColor:""},children:(0,r.jsxs)("span",{style:{fontSize:"9px",color:"black"},children:["  ",(0,r.jsxs)("i",{children:[" ",(0,r.jsx)("strong",{children:"  "}),"Please note that there may be a delay of up to 5 min. from the actual time. "]})]})})]})})]}),(0,r.jsx)(z.Z,{open:k,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,r.jsxs)(v.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"100%",height:"80%",bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},children:[(0,r.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:(0,r.jsx)(W.Z,{onClick:function(){return C(!1)},variant:"contained",children:" Close "})}),(0,r.jsx)("iframe",{src:"https://www.licor.cloud/dashboards/public/b637824d-0066-4684-ba0e-2eccb5c8c828/false?filters={%22davra-timeselector%22:{%22type%22:%22relative%22,%22unit%22:%22weeks%22,%22value%22:1,%22live%22:false}}",title:"Page in Modal",width:"100%",height:"100%",style:{border:"none",borderRadius:"8px"}})]})})]}):void 0},wn=t(99671);function Zn(e,n,t,a,i,r,o){try{var l=e[r](o),s=l.value}catch(c){return void t(c)}l.done?n(s):Promise.resolve(s).then(a,i)}var _n=Ye.XH.split(","),kn={lat:_n[0],lng:_n[1]},Cn=["Barangay","Municipality","Province","Association"];var Pn=function(e){var n=e.data,t=void 0===n?{villages:[],provincesMunicipalities:[]}:n,a=(0,s.useState)({}),o=a[0],b=a[1],j=(0,s.useState)(""),S=j[0],w=j[1],Z=(0,s.useState)(null),_=Z[0],k=Z[1],C=(0,s.useRef)(null),P=(0,u.Z)((function(e){return e.breakpoints.down("md")})),I=(0,s.useState)(!0),A=I[0],O=I[1],E=(0,s.useState)(!1),z=E[0],W=E[1],N=(0,s.useState)(!1),T=N[0],R=N[1],M=(0,c.v9)((function(e){return e.provinces.ids})),D=(0,s.useRef)(null),H=(0,c.I0)();(0,s.useEffect)((function(){null===D.current&&0===M.length&&(D.current=!0,H((0,d.Q)()))}),[H,M.length]),(0,s.useEffect)((function(){var e=function(){var e,n=(e=i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=4,l().get("https://api.mapbox.com/datasets/v1/ghemhope/cmgq7u5yz04te1po85uspg5wu/features?access_token=pk.eyJ1IjoiZ2hlbWhvcGUiLCJhIjoiY2tpYjM4YWN4MDkzZDJxazBwMWx6YXhpbyJ9.5uU4FKfifjxejsGu-95CMg");case 4:n=e.sent,b(n.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})),function(){var n=this,t=arguments;return new Promise((function(a,i){var r=e.apply(n,t);function o(e){Zn(r,a,i,o,l,"next",e)}function l(e){Zn(r,a,i,o,l,"throw",e)}o(void 0)}))});return function(){return n.apply(this,arguments)}}();e()}),[]);var G=L.icon({iconUrl:"https://firebasestorage.googleapis.com/v0/b/acap-r9.appspot.com/o/villages%2Fvill.png?alt=media&token=08e3a4f5-e7ba-433a-aa7e-9696be57caa7",iconRetinaUrl:"https://firebasestorage.googleapis.com/v0/b/acap-r9.appspot.com/o/villages%2Fvill.png?alt=media&token=08e3a4f5-e7ba-433a-aa7e-9696be57caa7",iconAnchor:[17,17],popupAnchor:[10,-44],iconSize:[20,20]}),F=L.icon({iconUrl:"https://firebasestorage.googleapis.com/v0/b/acap-r9.appspot.com/o/villages%2Faws.png?alt=media&token=b8b8bdab-0c11-4df7-a814-be1c18769abf",iconRetinaUrl:"https://firebasestorage.googleapis.com/v0/b/acap-r9.appspot.com/o/villages%2Faws.png?alt=media&token=b8b8bdab-0c11-4df7-a814-be1c18769abf",iconAnchor:[18,37],popupAnchor:[0,-44],iconSize:[35,35]}),U=function(){O(!A)};return(0,s.useEffect)((function(){P||(R(!1),W(!1))}),[P]),(0,r.jsxs)(v.Z,{sx:Be.map,style:{minHeight:P?"1000px":"100vh"},children:[z&&(0,r.jsx)("div",{children:(0,r.jsx)(Fe,{record:_,isSmallScreen:P,onSelectMunicipality:function(e,n){if(null===e&&null===n)w(""),k(null);else{var a=t.villages.find((function(t){return t.municipality===e&&t.province===n}));if(void 0!==a){var i=a.province;w((function(e){return i})),k(a),function(e,n){var t=C.current;t&&t.flyTo([e,n+4],9,{duration:2.5})}(a.lat,a.lon)}else w(""),k(null)}}})}),T&&(0,r.jsx)("div",{children:(0,r.jsx)(Sn,{isSmallScreen:P,expandedAws:A,setExpandedAws:O,handleChange:U})}),P&&(0,r.jsx)("div",{style:{position:"fixed",bottom:0,zIndex:2e3,backgroundColor:"#232C5E",height:50,width:"97%",borderRadius:10,margin:5},children:(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",padding:2},children:[(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",maxHeight:"100%",width:"50%"},onClick:function(){T&&R(!1),W(!z)},children:[(0,r.jsx)(ie.Z,{sx:{color:"white"}}),(0,r.jsx)(y.Z,{sx:{color:"white"},children:" Weather Today "})]}),(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",maxHeight:"100%",width:"50%"},onClick:function(){z&&W(!1),R(!T)},children:[(0,r.jsx)(wn.Z,{sx:{color:"white"}}),(0,r.jsx)(y.Z,{sx:{color:"white"},children:" Weather Station Data "})]})]})}),(0,r.jsxs)(p.h,{style:{height:"105%"},center:kn,zoom:7,maxZoom:20,minZoom:3,tileSize:512,placeholder:(0,r.jsx)("h3",{children:"You need JavaScript to render this app."}),whenCreated:function(e){C.current=e},children:[(0,r.jsx)(m.et,{position:"topleft",children:Ue.map((function(e,n){return(0,r.jsx)(m.et.BaseLayer,{name:e.name,checked:0===n,children:(0,r.jsx)(h.I,{zIndex:0,accessToken:"pk.eyJ1IjoiZ2hlbWhvcGUiLCJhIjoiY2tpYjM4YWN4MDkzZDJxazBwMWx6YXhpbyJ9.5uU4FKfifjxejsGu-95CMg",id:e.id,attribution:e.attribution,url:e.url})},"map-".concat(n))}))}),(0,r.jsx)(f.Q,{municipality:S,data:o.features,zIndex:1,onEachFeature:function(e,n){n.setStyle({fillColor:"Zamboanga Sibugay"===e.properties.ADM2_EN?Ye.Hv.zs:"Zamboanga del Sur"===e.properties.ADM2_EN?Ye.Hv.zds:"Zamboanga del Norte"===e.properties.ADM2_EN?Ye.Hv.zdn:"Isabela City"===e.properties.ADM2_EN?Ye.Hv.isabela:"#860a5dff",weight:1,color:"white",fillOpacity:"0"})}},Math.random().toString(36).substring(2,8)),(0,r.jsx)(x.J,{position:[7.797602884800487,122.59963524750582],icon:F,eventHandlers:{click:function(e){U()}},children:(0,r.jsxs)(g.G,{children:["AMIA-IX Automatic Weather Station ",(0,r.jsx)("br",{})," Ipil, Zamboanga Sibugay"]})}),t.villages.map((function(e,n){return(0,r.jsx)(x.J,{position:[e.lat,e.lon],icon:G,id:"tooltip-".concat(n),eventHandlers:{mouseover:function(e){null!==_&&k(null)},click:function(e){null!==_&&k(null)}},children:(0,r.jsx)(g.G,{children:(0,r.jsx)("table",{style:{width:"100%"},id:"tip-".concat(n),children:(0,r.jsxs)("tbody",{children:[Cn.map((function(n,t){return["lat","lon"].includes(n)?(0,r.jsx)("tr",{},t):(0,r.jsxs)(r.Fragment,{children:[" ",(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsxs)("b",{children:[n,":"]})}),(0,r.jsx)("td",{children:e[n.toLowerCase()]})]},t)]})})),(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:2,children:(0,r.jsx)(Ve.default,{src:e.img,alt:"AMIA Village",unoptimized:!0,height:300,width:500,loader:Je.imageLoader})})})]})})})},n)}))]}),!P&&(0,r.jsx)(Oe,{isSmallScreen:P}),!P&&(0,r.jsx)(Sn,{expandedAws:A,setExpandedAws:O,handleChange:U})]})}},1902:function(e,n,t){t.d(n,{J4:function(){return a},Y1:function(){return i},Sx:function(){return r}});var a=[{icon:"cc_sunny_49.svg",label:"No rain",nowrap:!0},{icon:"rainfall_light_rain_49.svg",label:"Light rain"},{icon:"rainfall_moderate_rain_49.svg",label:"Moderate rain"},{icon:"rainfall_heavy_rain_49.svg",label:"Heavy rain"},{icon:"blank_weather.png",label:"Heavy rain",hidden:!0}],i=[{icon:"cc_sunny_49.svg",label:"Sunny"},{icon:"cc_mostly_sunny_49.svg",label:"Mostly sunny"},{icon:"cc_partly_cloudy_49.svg",label:"Partly cloudy"},{icon:"cc_mostly_cloudy_49.svg",label:"Mostly cloudy"},{icon:"cc_cloudy_49.svg",label:"Cloudy"}],r={rainfall:{"NO RAIN":"cc_sunny_49.svg","LIGHT RAINS":"rainfall_light_rain_49.svg","MODERATE RAINS":"rainfall_moderate_rain_49.svg","HEAVY RAINS":"rainfall_heavy_rain_49.svg"},cloudCover:{SUNNY:"cc_sunny_49.svg","MOSTLY SUNNY":"cc_mostly_sunny_49.svg","PARTLY CLOUDY":"cc_partly_cloudy_49.svg","MOSTLY CLOUDY":"cc_mostly_cloudy_49.svg",CLOUDY:"cc_cloudy_49.svg"}}}}]);