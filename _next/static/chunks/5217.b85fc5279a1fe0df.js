(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5217],{27840:function(e,n,t){"use strict";var i=t(85893),r=t(15861);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var o=(0,t(90948).ZP)((function(e){return(0,i.jsx)(r.Z,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},i=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),i.forEach((function(n){a(e,n,t[n])}))}return e}({component:"p",variant:"caption"},e))}))((function(e){var n=e.theme;return{color:n.palette.text.secondary,"& a":{color:n.palette.green.dark,textDecoration:"none"},"& a:visited":{color:n.palette.green.dark},"& a:hover, span:hover":{textDecoration:"underline"}}}));n.Z=o},6629:function(e,n,t){"use strict";t.d(n,{e:function(){return i}});var i=["Akbar","Al-Barka","Hadji Mohammad Ajul","Lantawan","Maluso","Sumisip","Tipo-Tipo","Tuburan","Ungkaya Pukan","Lamitan City"]},25217:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return Re}});var i=t(34051),r=t.n(i),a=t(85893),o=t(9669),s=t.n(o),l=t(67294),c=t(9473),u=t(4936),d=t(98396),p=t(60795),h=t(86105),f=t(38303),m=t(72471),x=t(27409),g=t(8543),v=t(87357),b=t(41664),y=t(25675),j=t(76295),w=t(66242),S=t(98456),_=t(86886),k=t(61903),C=t(15861),E=t(26660),I=t(77715),z={daily:{width:{xs:"75px",sm:"65px"},minWidth:{xs:"75px",sm:"65px"},minHeight:"55px",display:"flex",flexDirection:"column",justifyContent:"space-between",backgroundColor:"rgba(255, 255, 255, 1.0)",padding:function(e){return e.spacing(1)},margin:"2px",borderRadius:"5px","& div":{textAlign:"center"},"& .temp-label":{display:"flex",justifyContent:"space-between",fontSize:{xs:"8px",sm:"9px"}},"& .daily-date":{fontSize:{xs:"9px",sm:"8px"}}}},Z=t(63365),A=t(48038);var O=function(e){var n=e.dailyweather;return(0,a.jsxs)(v.Z,{sx:z.daily,style:{backgroundColor:(0,I.fq)()===n.day?"#C6E5FC":""},children:[(0,a.jsx)("div",{className:"daily-date",children:n.day}),(0,a.jsx)("div",{children:(0,a.jsx)(y.default,{unoptimized:!0,src:n.icon,height:25,width:25,loader:E.imageLoader,alt:n.day})}),(0,a.jsxs)("div",{className:"temp-label",children:[(0,a.jsxs)("div",{style:{color:"darkgreen"},children:[(0,a.jsx)(Z.Z,{fontSize:"12px"}),(0,a.jsxs)("strong",{children:[n.temp_mean,"\xb0"]})]}),(0,a.jsxs)("div",{style:{color:"darkblue"},children:[(0,a.jsx)(A.Z,{fontSize:"12px"}),n.wind_speed]})]})]})},M=t(27840);var D,P,W,N={card:{backgroundColor:"rgba(255, 255, 255, 0.6)",minWidth:{xs:"200px",sm:"380px"},border:"none",marginTop:function(e){return e.spacing(3)},padding:function(e){return e.spacing(2)},borderRadius:function(e){return e.spacing(1)},"& h5":{marginBottom:function(e){return e.spacing(2)},fontSize:"18px"},"& h6":{fontSize:"16px"},"& .span-source":{"& a":{color:function(e){return e.palette.primary.main},textDecoration:"none"},"& a:hover":{color:function(e){return e.palette.third.main}}}},cardInfo:{border:"none",width:"100%",maxWidth:"490px",padding:function(e){return e.spacing(1)},marginTop:function(e){return e.spacing(3)},fontSize:{xs:"11px",sm:"14px"},"& td":{padding:(D={xs:0},P="xs",W="1px",P in D?Object.defineProperty(D,P,{value:W,enumerable:!0,configurable:!0,writable:!0}):D[P]=W,D)}},autocomplete:{maxWidth:"100%",marginTop:function(e){return e.spacing(1)}},weathertoday:{width:"100%",display:"flex",justifyContent:"flex-start",alignItems:"center",gap:"10px",flexDirection:{xs:"column",b4xs:"row",sm:"row"},"& .icon-temp":{display:"flex",alignItems:"center",gap:"10px"},"& .temperature":{fontSize:"30px",fontWeight:"bold"},"& .weather-details":{paddingTop:"12px",marginLeft:"16px",fontSize:"10px"}},info:{minWidth:"285px",minHeight:"90px",padding:function(e){return e.spacing(2)},marginTop:function(e){return e.spacing(2)},textAlign:"center","& p":{color:"red",fontSize:"12px"}}},T=t(82280),R=t(22797),F=t(38895),G=t(23508),H=t(901),U=t(6629),Y=t(90948),B=t(16628);function J(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function V(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},i=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),i.forEach((function(n){J(e,n,t[n])}))}return e}function Q(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function X(){var e=Q(["\n  color: black;\n  background-color: rgba(255,255,255,0.5);"]);return X=function(){return e},e}function q(){var e=Q(["\n    background-color: rgba(255,255,255,0.3);"]);return q=function(){return e},e}var K=function(e){var n=e.sel_options,t=e.weather,i=e.forecast,r=e.record,o=e.isSmallScreen,s=void 0!==o&&o,u=e.onSelectItemChange,d=(0,c.v9)((function(e){return e.provinces})),p=(0,c.v9)((function(e){return e.municipalities})),h=(0,c.v9)((function(e){return e.tendayweather})),f=(0,l.useState)(!0),m=f[0],x=f[1],g=(0,l.useState)(!0),I=g[0],z=g[1];(0,l.useEffect)((function(){var e=d.status!==H.G.FULLFILLED||h.status!==H.G.FULLFILLED;x(e)}),[d.status,h.status,d.error,h.error]);var L=(0,Y.ZP)(T.Z)(X()),Z=(0,Y.ZP)(w.Z)(q());return(0,a.jsxs)(v.Z,{sx:s?{position:"absolute",top:100,zIndex:1e3,width:"85%",margin:"8%"}:{position:"absolute",top:function(e){return e.constants.navbar.outerHeight-5},right:50,zIndex:400,width:"400px"},className:"mui-fixed",children:[(0,a.jsxs)(L,{expanded:I,onChange:function(){z(!I)},slots:{transition:B.Z},slotProps:{transition:{timeout:400}},children:[(0,a.jsx)(F.Z,{expandIcon:(0,a.jsx)(G.Z,{}),"aria-controls":"panel1-content",id:"panel1-header",sx:{padding:"-12px",borderRadius:"5px"},children:(0,a.jsx)(C.Z,{component:"span",children:"Region IX Weather Today"})}),(0,a.jsxs)(R.Z,{sx:{marginTop:"-45px"},children:[(0,a.jsxs)(Z,{variant:"outlined",sx:N.card,children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(j.Z,{disablePortal:!0,id:"province",value:d.province,disabled:0===d.ids.length||m,options:Object.values(d.entities).sort((function(e,n){return n.label.localeCompare(e.label)})),size:"small",renderInput:function(e){return(0,a.jsx)(k.Z,V({},e,{label:null===d.province?"Select a province":"Province"}))},isOptionEqualToValue:function(e,n){return e.label===n.label},onChange:function(e,n){return u(e,V({},n,{from:"province"}))}}),(0,a.jsx)("br",{}),(0,a.jsx)(j.Z,{disablePortal:!0,id:"municipality",value:p.municipality,disabled:0===p.ids.length||m,options:Object.values(p.entities).filter((function(e){return!U.e.includes(e.label)})),size:"small",renderInput:function(e){return(0,a.jsx)(k.Z,V({},e,{label:null===p.municipality?"Select a municipality":"Municipality"}))},isOptionEqualToValue:function(e,n){return e.label===n.label},getOptionDisabled:function(e){return void 0!==e.iscalendar},onChange:function(e,n){return u(e,V({},n,{from:"municipality",province:d.province}))}})]}),n.loading&&(0,a.jsx)(v.Z,{sx:V({},N.info),style:{minWidth:s?window.innerWidth-80:"285px"},children:(0,a.jsx)(S.Z,{size:24,color:"secondary"})}),""===n.error&&!n.loading&&null!==n.sel_municipality&&""!==t.description&&(0,a.jsxs)(v.Z,{sx:N.weathertoday,style:{display:"flex",flexDirection:(function(){var e=document.getElementById("header-contents");e&&e.getBoundingClientRect().width}(),"row")},children:[(0,a.jsxs)("div",{className:"icon-temp",children:[(0,a.jsx)(y.default,{unoptimized:!0,src:t.icon,height:70,width:70,loader:E.imageLoader,alt:t.description}),(0,a.jsxs)("div",{className:"temperature",children:[t.temp,"\xb0C"]})]}),(0,a.jsxs)("div",{className:"weather-details",children:[(0,a.jsxs)("div",{children:["Date today: ",t.datenow]}),(0,a.jsxs)("div",{children:["Humidity: ",t.humidity]}),(0,a.jsxs)("div",{children:["Wind speed: ",t.wind]}),(0,a.jsx)("div",{children:t.description?"".concat(t.description.charAt(0).toUpperCase()).concat(t.description.slice(1)):""})]})]}),""===n.error&&!n.loading&&null===n.sel_municipality&&(0,a.jsx)(v.Z,{sx:N.info,style:{minWidth:s?window.innerWidth-80:"285px"},children:(0,a.jsx)("p",{children:"\xa0"})}),""!==n.error&&(0,a.jsx)(v.Z,{sx:N.info,style:{minWidth:s?window.innerWidth-80:"285px"},children:(0,a.jsx)("p",{children:n.error})})]}),i.length>0&&(0,a.jsxs)(Z,{variant:"outlined",sx:N.card,style:{marginTop:"10px",paddingBottom:"2px",borderTop:"1px solid rgba(0,0,0,0.2)"},children:[(0,a.jsx)(C.Z,{variant:"h6",children:"10-Day Rainfall Forecast"}),(0,a.jsxs)(M.Z,{sx:{marginBottom:"16px",fontSize:"11px"},children:["View the full 10-Day Weather Forecast"," ",(0,a.jsx)(b.default,{href:"/weather-services",children:"here"}),"."]}),(0,a.jsx)(_.ZP,{container:!0,children:i.map((function(e,n){return(0,a.jsx)(_.ZP,{item:!0,children:(0,a.jsx)(O,{dailyweather:e})},"daily-".concat(n))}))}),(0,a.jsxs)(C.Z,{variant:"caption",style:{fontSize:"10px"},className:"span-source",children:["source:"," ",(0,a.jsx)(b.default,{href:"https://www.pagasa.dost.gov.ph/climate/climate-prediction/10-day-climate-forecast",children:"PAGASA's 10-Day Climate Forecast"})]})]})]})]}),s&&null!==r&&(0,a.jsx)(w.Z,{variant:"outlined",sx:N.cardInfo,children:(0,a.jsx)("table",{children:(0,a.jsx)("tbody",{children:["Barangay","Municipality","Province","Association"].map((function(e,n){return["lat","lon"].includes(e)?(0,a.jsx)("tr",{},n):(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:(0,a.jsxs)("b",{children:[e,":"]})}),(0,a.jsx)("td",{children:r[e.toLowerCase()]})]},n)}))})})})]})},$=t(18217),ee=t(23549),ne=t(56867),te=t(1902);function ie(e,n,t,i,r,a,o){try{var s=e[a](o),l=s.value}catch(c){return void t(c)}s.done?n(l):Promise.resolve(l).then(i,r)}function re(e){return function(){var n=this,t=arguments;return new Promise((function(i,r){var a=e.apply(n,t);function o(e){ie(a,i,r,o,s,"next",e)}function s(e){ie(a,i,r,o,s,"throw",e)}o(void 0)}))}}function ae(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function oe(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},i=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),i.forEach((function(n){ae(e,n,t[n])}))}return e}var se={sel_municipality:null,sel_province:"",loading:!0,error:""},le={icon:"https://openweathermap.org/img/wn/10d@2x.png",temp:"00",pressure:"0000 hPa",humidity:"0%",wind:"00 meter/sec"};var ce=function(e){var n=e.record,t=e.isSmallScreen,i=e.onSelectMunicipality,o=(0,l.useState)(se),s=o[0],u=o[1],d=(0,l.useState)(le),p=d[0],h=d[1],f=(0,l.useState)([]),m=f[0],x=f[1],g=(0,l.useState)(!1),v=g[0],b=g[1],y=(0,c.I0)(),j=(0,c.v9)((function(e){return e.provinces})),w=j.ids,S=j.entities,_=j.municipalities,k=j.province,C=(0,c.v9)((function(e){return e.municipalities})).municipality,E=(0,c.v9)((function(e){return e.tendayweather})),I=E.ids,z=E.entities,L=E.status;(0,l.useEffect)((function(){y((0,$.QA)(null))}),[y]),(0,l.useEffect)((function(){w.length>0&&(y((0,ee.Wn)(Object.values(S)[0])),y((0,ne.R)(Object.values(S)[0].label)).unwrap().then((function(){b(!0)})))}),[y,w,S]),(0,l.useEffect)((function(){if(I.length>0&&L===H.G.FULLFILLED&&v&&null!==k){var e=null;if(C)e=C;else{var n=Object.keys(_).find((function(e){return e===k.label}));n&&_[n].length>0&&(e=_[n][0])}y((0,$.X4)(_[k.label]||[])),y((0,$.QA)(e))}}),[y,I,z,L,v,C,_,k]),(0,l.useEffect)((function(){null!==C&&v&&u((function(e){return oe({},e,{sel_province:k,sel_municipality:C})}))}),[y,C,k,z,L,v]),(0,l.useEffect)((function(){if(L===H.G.FULLFILLED&&null!==s.sel_municipality&&0===m.length)try{i(s.sel_municipality.label,s.sel_province.label);var e=Object.values(z).find((function(e){return e.municipality===s.sel_municipality.label}));if(e){var n=JSON.parse(e.data),t=(new Date).toDateString(),r=n.find((function(e){return e.day_format===t.substring(0,t.length-5)}))||n[0],a={icon:void 0!==te.Sx.rainfall[r.rainfall]?"images/icons/weather/".concat(te.Sx.rainfall[r.rainfall]):"images/icons/weather/blank_weather.png",temp:Math.round(r.tmean),precipitation:null,humidity:"".concat(O(r.humidity),"%"),datenow:t,wind:"".concat(O(r.wspeed)," mps"),description:"".concat(M(r.rainfall),", ").concat(M(r.cover))},o=[];n.forEach((function(e){var n=new Date("".concat(e.day_format,", ").concat((new Date).getFullYear())),t={day:e.day_format,wind_speed:O(e.wspeed),temp_mean:O(e.tmean),temp_max:O(e.tmax),temp_min:O(e.tmin),icon:void 0!==e.rainfall?"images/icons/weather/".concat(te.Sx.rainfall[e.rainfall]):"images/icons/weather/blank_weather.png",date:n.toLocaleDateString("en-US"),description:""};o.push(t)})),h(a),x(o),u((function(e){return oe({},e,{loading:!1,error:""})}))}}catch(l){u((function(e){return oe({},e,{loading:!1,error:l.message})}))}}),[L,z,S,m,s.sel_municipality,s.sel_province.label,i]);var Z=(0,l.useCallback)(function(){var e=re(r().mark((function e(n,t){var i,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=_[t.label],void 0!==(a=i.find((function(e){return e.label===n})))){e.next=4;break}return e.abrupt("return");case 4:x([]),u(oe({},s,{sel_municipality:a,sel_province:t,loading:!0,error:""})),y((0,ne.R)(t.label));case 7:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),[_,s,y]),A=function(){var e=re(r().mark((function e(n,t){var a,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.label,o=t.from,!a){e.next=21;break}e.t0=o,e.next="province"===e.t0?5:"municipality"===e.t0?9:18;break;case 5:return y((0,ee.Wn)(t)),y((0,ne.R)(a)),y((0,$.X4)([])),e.abrupt("break",19);case 9:if(y((0,$.QA)({id:t.id,label:t.label,iscalendar:t.iscalendar})),void 0!==t.id){e.next=16;break}return u(oe({},s,{sel_municipality:null,loading:!1})),h(le),x([]),i(null),e.abrupt("return");case 16:return Z(t.label,null===t||void 0===t?void 0:t.province),e.abrupt("break",19);case 18:return e.abrupt("break",19);case 19:e.next=30;break;case 21:e.t1=o,e.next="province"===e.t1?24:"municipality"===e.t1?27:29;break;case 24:return y((0,ee.jg)()),y((0,$.X4)([])),e.abrupt("break",30);case 27:return y((0,$.QA)(null)),e.abrupt("break",30);case 29:return e.abrupt("break",30);case 30:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),O=function(e){return Math.round(100*(e+Number.EPSILON))/100},M=function(e){return e.split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()})).join(" ")};return(0,a.jsx)(K,{sel_options:s,weather:p,forecast:m,record:n,isSmallScreen:t,onSelectItemChange:A})},ue=[{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}",name:"Street Map",attribution:"Tiles &copy; Esri &mdash; Source: Esri, DeLorme, NAVTEQ, USGS, Intermap, iPC, NRCAN, Esri Japan, METI, Esri China (Hong Kong), Esri (Thailand), TomTom, 2012"},{url:"https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png",name:"Topography Map",attribution:'Map data: &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'},{url:"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",name:"Light",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>'},{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",name:"Satellite Map",attribution:"Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"},{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Shaded_Relief/MapServer/tile/{z}/{y}/{x}",name:"Shaded Relief",attribution:"Tiles &copy; Esri &mdash; Source: Esri"},{url:"https://tileserver.memomaps.de/tilegen/{z}/{x}/{y}.png",name:"MemoMaps",attribution:'Map <a href="https://memomaps.de/">memomaps.de</a> <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'},{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}",name:"ESRI WorldTopo",attribution:"Tiles &copy; Esri &mdash; Esri, DeLorme, NAVTEQ, TomTom, Intermap, iPC, USGS, FAO, NPS, NRCAN, GeoBase, Kadaster NL, Ordnance Survey, Esri Japan, METI, Esri China (Hong Kong), and the GIS User Community"},{url:"https://server.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer/tile/{z}/{y}/{x}",name:"ESRI NatGeo",attribution:"Tiles &copy; Esri &mdash; National Geographic, Esri, DeLorme, NAVTEQ, UNEP-WCMC, USGS, NASA, ESA, METI, NRCAN, GEBCO, NOAA, iPC"}],de={map:{width:"100%",height:"calc(100vh - 88px - 519px)",maxWidth:function(e){return e.breakpoints.xl}},fbchat:{position:"fixed",bottom:"10px",right:"10px",zIndex:9999}},pe=t(47426),he={container:{backgroundColor:"rgba(251, 248, 250, 0.6)"},accordionHeader:{display:"flex",flexDirection:"column",justifyContent:"flex-start",width:"100%"},accordionHeaderLocation:{display:"flex",justifyContent:"center",alignItems:"center",alignSelf:"flex-start"},temperatureContainer:{display:"flex",marginTop:-25,justifyContent:"flex-start"},temperatureLabels:{display:"flex",flexDirection:"column",marginLeft:"1.2em",width:"70%",description:{fontSize:"11px",color:"#0084FF",lineHeight:"-5px"},label:{fontSize:"12px",color:"black",marginBottom:"-10px"},value:{fontSize:"20px",fontWeight:"bold",fontFamily:"Manrope",color:"rgba(30,10,70)",unit:{fontSize:"40px"}}},grids:{container:{width:"30%",height:"80px",margin:"5px",display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",padding:"10px",backgroundColor:"rgba(255,255,255, 0.7)",transition:"background-color 0.3s ease, box-shadow 0.3s ease","&:hover":{backgroundColor:"rgba(255,255,255, 0.9)",boxShadow:3,cursor:"pointer"}},header:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},label:{fontSize:"9px",color:"black"},value:{fontSize:"12px",fontWeight:"bold",fontFamily:"Manrope",letterSpacing:"-1px",color:"rgba(30,10,70)"},unit:{fontSize:"12px",color:"#2196F3",fontWeight:"normal"}}},fe=t(55113);var me=function(e){var n=function(e){return["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW","N"][Math.round(e/22.5)]};return(0,a.jsxs)(fe.Z,{sx:he.grids.container,onClick:function(){return e.handleHighlightClick({label:e.label,value:e.value,unit:"Wind Direction"===e.label?"\xba  ".concat(n(e.value)):e.unit,imageLink:"Wind Direction"===e.label?"images/icons/aws/wind_direction/".concat(n(e.value),".png"):e.imageLink,description:(t=e.label,{RH:"Percentage of water vapor in the air compared to the maximum amount the air can hold at a given temperature","Dew Point":"The temperature at which air becomes fully saturated with moisture (100% relative humidity), causing condensation (dew, fog, or rain).",Rain:"Liquid water droplets that fall from clouds when they become too heavy to stay suspended in the atmosphere",Temperature:"The temperature of the Earths atmosphere at different altitudes",Pressure:"Atmospheric pressure is the force exerted by the weight of the air in the Earth\x02s atmosphere","Solar Radiation":"Solar radiation is the energy emitted by the Sun in the form of electromagnetic waves. It includes visible light, ultraviolet (UV), and infrared (heat) radiation.","Wind Speed":"Refers to the rate at which air moves across the Earth\x02s surface.","Gust Speed":"A sudden, brief increase in wind speed that lasts for a few seconds to minutes.","Wind Direction":"Wind direction refers to the direction from which the wind is blowing."}[t])});var t},children:[(0,a.jsxs)("div",{style:he.grids.header,children:[(0,a.jsx)(C.Z,{sx:he.grids.label,children:e.label}),(0,a.jsxs)(C.Z,{sx:he.grids.value,children:[e.value,(0,a.jsx)("span",{style:he.grids.unit,children:"Wind Direction"===e.label?"\xba  ".concat(n(e.value)):e.unit})]})]}),(0,a.jsx)(y.default,{unoptimized:!0,src:(0,E.assetPrefixer)("".concat("Wind Direction"===e.label?"images/icons/aws/wind_direction/".concat(n(e.value),".png"):e.imageLink)),height:30,width:30,loader:E.imageLoader,alt:e.label})]})};var xe=function(e){return(0,a.jsxs)("div",{style:he.temperatureContainer,children:[(0,a.jsx)("div",{style:{width:"100px",height:"100px",paddingLeft:"10px",display:"flex",alignItems:"center",backgroundColor:""},children:(0,a.jsx)(y.default,{unoptimized:!0,src:(0,E.assetPrefixer)(e.imageLink),height:80,width:80,loader:E.imageLoader,alt:"Temperature"})}),(0,a.jsxs)("div",{style:he.temperatureLabels,children:[(0,a.jsx)(C.Z,{sx:he.temperatureLabels.label,children:(0,a.jsxs)("span",{children:["  ",e.label," "]})}),(0,a.jsxs)(C.Z,{sx:he.temperatureLabels.value,children:[(0,a.jsxs)("span",{style:he.temperatureLabels.value.unit,children:[e.value,"  "]})," ",(0,a.jsxs)("span",{children:[" ",e.unit," "]})]}),(0,a.jsx)("div",{style:{backgroundColor:""},children:(0,a.jsx)(C.Z,{sx:he.temperatureLabels.description,children:e.description})})]})]})},ge=t(27484),ve=t.n(ge),be=t(70178),ye=t.n(be),je=t(47312),we=t(18972),Se=t(94054),_e=t(18360);function ke(e,n,t,i,r,a,o){try{var s=e[a](o),l=s.value}catch(c){return void t(c)}s.done?n(l):Promise.resolve(l).then(i,r)}function Ce(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var Ee=function(e){var n=(0,l.useState)(0),t=n[0],i=n[1],o=(0,l.useState)([]),c=o[0],u=o[1],d=(0,l.useState)(),p=d[0],h=d[1],f=(0,l.useState)(!0),m=f[0],x=f[1],g=(0,l.useState)("IPIL"),b=g[0],j=g[1],w=(0,l.useState)(null),_=(w[0],w[1]);(0,l.useEffect)((function(){var e=!0,n=function(){var n,t=(n=r().mark((function n(){var t,i,a,o;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,ve().extend(ye()),t=ve().utc().format("YYYY-MM-DD HH:mm:ss"),i=ve().utc().subtract(15,"minutes").format("YYYY-MM-DD HH:mm:ss"),n.next=6,s().get("https://api.hobolink.licor.cloud/v1/data",{headers:{Authorization:"Bearer ".concat("QeTq1OOnqGfdSzA8m5v4r1hrULJheDi7Fw9hB0Vb7Ek110IH")},params:{loggers:"22097116",start_date_time:i,end_date_time:t}});case 6:if(a=n.sent,e&&a.data){n.next=9;break}return n.abrupt("return");case 9:o=a.data.data.filter((function(e){return"Battery"!==e.sensor_measurement_type})),e&&(o.length>10?(h({value:o[1].value.toFixed(1),label:o[1].sensor_measurement_type,unit:o[1].unit,imageLink:"images/icons/aws/Temperature.png",description:"The temperature of the Earths atmosphere at different altitudes"}),u(o.slice(-9))):u(o),x(!1)),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(0),e&&(console.error("Fetch error:",n.t0.response?n.t0.response.data:n.t0.message),_(n.t0));case 16:case"end":return n.stop()}}),n,null,[[0,13]])})),function(){var e=this,t=arguments;return new Promise((function(i,r){var a=n.apply(e,t);function o(e){ke(a,i,r,o,s,"next",e)}function s(e){ke(a,i,r,o,s,"throw",e)}o(void 0)}))});return function(){return t.apply(this,arguments)}}();return n(),function(){e=!1}}),[b]),(0,l.useEffect)((function(){var e=function(){return i((window.innerWidth-k())/10+22)};return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]);var k=function(){var e=document.getElementById("header-contents");return e?e.getBoundingClientRect().width:1200},I=function(e){h((function(n){return function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},i=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),i.forEach((function(n){Ce(e,n,t[n])}))}return e}({},n,{value:e.value,label:e.label,unit:e.unit,imageLink:e.imageLink,description:e.description})}))},z={position:"absolute",top:void 0===e.smallScreen?k()<710?850:100:70,left:k()<710?-13:t,marginLeft:"24px",zIndex:400,width:"350px"};return(0,a.jsx)(v.Z,{sx:e.isSmallScreen?{position:"absolute",top:100,zIndex:1e3,width:"84%",margin:"7%"}:z,className:"mui-fixed",id:"aws-container",children:(0,a.jsxs)(T.Z,{expanded:e.expandedAws,onChange:e.handleChange,sx:he.container,children:[(0,a.jsx)(F.Z,{"aria-controls":"panel1bh-content",id:"panel1bh-header",children:(0,a.jsxs)("div",{style:he.accordionHeader,children:[(0,a.jsx)(C.Z,{component:"span",sx:{width:"100%",flexShrink:0,fontSize:"17px"},children:(0,a.jsx)("span",{children:" Automated Weather System Current Data "})}),(0,a.jsxs)("div",{style:he.accordionHeaderLocation,children:[(0,a.jsx)(y.default,{unoptimized:!0,src:(0,E.assetPrefixer)("images/icons/aws/location.png"),height:20,width:20,loader:E.imageLoader,alt:"Location"}),(0,a.jsxs)(Se.Z,{fullWidth:!0,sx:{m:1,minWidth:120},size:"small",children:[(0,a.jsx)(je.Z,{id:"demo-simple-select-label",children:"Location"}),(0,a.jsx)(_e.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:b,label:"Location",onChange:function(e){j(e.target.value)},children:(0,a.jsx)(we.Z,{value:"IPIL",children:"Ipil, Zamboanga Sibugay"})})]})]})]})}),m?(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"20px"},children:[" ",(0,a.jsx)(S.Z,{size:15,color:"info"})," ",(0,a.jsx)(C.Z,{variant:"h6",sx:{marginLeft:"10px"},children:" Fetching data from AWS... "})," "]}):(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(R.Z,{children:[(0,a.jsx)("div",{style:{height:"120px"},children:0===c.length?(0,a.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center"},children:(0,a.jsx)(C.Z,{variant:"subtitle2",color:"gray",children:"Cannot connect at this moment"})}):(0,a.jsx)(xe,{value:null===p||void 0===p?void 0:p.value,label:null===p||void 0===p?void 0:p.label,unit:null===p||void 0===p?void 0:p.unit,imageLink:null===p||void 0===p?void 0:p.imageLink,description:null===p||void 0===p?void 0:p.description})}),(0,a.jsx)("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"space-evenly",marginTop:"10px"},children:c.map((function(e,n){return(0,a.jsx)(me,{value:e.value.toFixed(1),label:e.sensor_measurement_type,unit:e.unit,imageLink:"images/icons/aws/".concat(e.sensor_measurement_type,".png"),description:"Percentage of water vapor in the air compared to the maximum amount the air can hold at a given temperature. ",handleHighlightClick:I},n)}))}),(0,a.jsx)("div",{style:{height:"10px",backgroundColor:""},children:(0,a.jsxs)("span",{style:{fontSize:"9px",color:"black"},children:["  ",(0,a.jsxs)("i",{children:[" ",(0,a.jsx)("strong",{children:"  "})," Please note that there may be a delay of up to 5 min. from the actual time. "]})]})})]})})]})})},Ie=t(53247),ze=t(70655),Le=t(30675),Ze=t.n(Le);function Ae(e,n,t,i,r,a,o){try{var s=e[a](o),l=s.value}catch(c){return void t(c)}s.done?n(l):Promise.resolve(l).then(i,r)}var Oe=function(e){var n=e.smallScreen,t=(0,l.useState)([]),i=t[0],o=t[1],c=(0,l.useState)(0),u=c[0],d=c[1],p=(0,l.useState)(""),h=p[0],m=p[1],x=(0,l.useRef)(null),g=(0,l.useState)(!1),v=g[0],b=g[1];if((0,l.useEffect)((function(){var e=function(){var e,n=(e=r().mark((function e(){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s().get("https://api.rainviewer.com/public/weather-maps.json");case 3:n=e.sent.data,o(n.radar.past.concat(n.radar.nowcast)),m(n.host),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Failed to load RainViewer frames:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})),function(){var n=this,t=arguments;return new Promise((function(i,r){var a=e.apply(n,t);function o(e){Ae(a,i,r,o,s,"next",e)}function s(e){Ae(a,i,r,o,s,"throw",e)}o(void 0)}))});return function(){return n.apply(this,arguments)}}();e()}),[]),(0,l.useEffect)((function(){if(0!==i.length&&!v)return x.current=setInterval((function(){d((function(e){return(e+1)%i.length}))}),2500),function(){return clearInterval(x.current)}}),[i,v]),!i.length||!h)return null;var y,j="".concat(h,"/").concat(i[u].path,"/256/{z}/{x}/{y}/11/1_1.png"),w="".concat((y=i[u].time,new Date(1e3*y).toLocaleString("en-US",{timeZone:"Asia/Manila",weekday:"long",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0}))),S=function(){b((function(e){return!e}))};return(0,a.jsxs)(a.Fragment,{children:[n?(0,a.jsxs)("div",{style:{position:"fixed",bottom:55,left:0,zIndex:2e3,backgroundColor:"rgba(255,255,255,0.8)",margin:5,display:"flex",justifyContent:"center",alignItems:"center",padding:5},children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)(C.Z,{sx:{fontSize:"10px"},children:[w," "]}),(0,a.jsx)("div",{style:{width:"100%",height:10,background:"linear-gradient(to right, yellow, orange, red, brown, purple, #EE82EE)"},children:" "}),(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",width:"100%"},children:[(0,a.jsx)(C.Z,{sx:{fontSize:"9px"},children:" < 0.3 mm/h "}),(0,a.jsx)(C.Z,{sx:{fontSize:"9px"},children:" 12 mm/h "})]})]}),(0,a.jsx)("div",{onClick:S,style:{cursor:"pointer",padding:0,marginBottom:-8,marginTop:-5},children:v?(0,a.jsx)(ze.Z,{}):(0,a.jsx)(Ie.Z,{})})]}):(0,a.jsxs)("div",{style:{position:"absolute",top:16,left:"40%",zIndex:1e3,backgroundColor:"rgba(255,255,255,0.8)",padding:"4px 8px",borderRadius:"4px",display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,a.jsxs)(C.Z,{sx:{fontSize:"10px"},children:[w," "]}),(0,a.jsx)("div",{style:{width:"100%",height:10,background:"linear-gradient(to right, yellow, orange, red, brown, purple, #EE82EE)"},children:" "}),(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",width:"100%"},children:[(0,a.jsx)(C.Z,{sx:{fontSize:"9px"},children:" < 0.3 mm/h "}),(0,a.jsx)(C.Z,{sx:{fontSize:"9px"},children:" 12 mm/h "})]}),(0,a.jsx)("div",{onClick:S,style:{cursor:"pointer",padding:0,marginBottom:-8,marginTop:-5},children:v?(0,a.jsx)(ze.Z,{}):(0,a.jsx)(Ie.Z,{})})]}),(0,a.jsx)(f.I,{url:j,zIndex:4,opacity:.7,attribution:"Weather data \xa9 RainViewer",className:Ze().tileFade},j)]})},Me=t(74211),De=t(99671);function Pe(e,n,t,i,r,a,o){try{var s=e[a](o),l=s.value}catch(c){return void t(c)}s.done?n(l):Promise.resolve(l).then(i,r)}var We=pe.XH.split(","),Ne={lat:We[0],lng:We[1]},Te=["Barangay","Municipality","Province","Association"];var Re=function(e){var n=e.data,t=void 0===n?{villages:[],provincesMunicipalities:[]}:n,i=(0,l.useState)({}),o=i[0],b=i[1],j=(0,l.useState)(""),w=j[0],S=j[1],_=(0,l.useState)(null),k=_[0],I=_[1],z=(0,l.useRef)(null),Z=(0,d.Z)((function(e){return e.breakpoints.down("md")})),A=(0,l.useState)(!0),O=A[0],M=A[1],D=(0,l.useState)(!1),P=D[0],W=D[1],N=(0,l.useState)(!1),T=N[0],R=N[1],F=(0,c.v9)((function(e){return e.provinces.ids})),G=(0,l.useRef)(null),H=(0,c.I0)();(0,l.useEffect)((function(){null===G.current&&0===F.length&&(G.current=!0,H((0,u.Q)()))}),[H,F.length]),(0,l.useEffect)((function(){var e=function(){var e,n=(e=r().mark((function e(){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=4,s().get("https://api.mapbox.com/datasets/v1/ghemhope/clywq65zi123m1mnozezhgzpp/features?access_token=pk.eyJ1IjoiZ2hlbWhvcGUiLCJhIjoiY2tpYjM4YWN4MDkzZDJxazBwMWx6YXhpbyJ9.5uU4FKfifjxejsGu-95CMg");case 4:n=e.sent,b(n.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})),function(){var n=this,t=arguments;return new Promise((function(i,r){var a=e.apply(n,t);function o(e){Pe(a,i,r,o,s,"next",e)}function s(e){Pe(a,i,r,o,s,"throw",e)}o(void 0)}))});return function(){return n.apply(this,arguments)}}();e()}),[]);var U=function(e,n){if(null===e&&null===n)S(""),I(null);else{var i=t.villages.find((function(t){return t.municipality===e&&t.province===n}));if(void 0!==i){var r=i.province;S((function(e){return r})),I(i),function(e,n){var t=z.current;t&&t.flyTo([e,n+4],9,{duration:2.5})}(i.lat,i.lon)}else S(""),I(null)}},Y=L.icon({iconUrl:"https://firebasestorage.googleapis.com/v0/b/acap-r9.appspot.com/o/villages%2Fvill.png?alt=media&token=08e3a4f5-e7ba-433a-aa7e-9696be57caa7",iconRetinaUrl:"https://firebasestorage.googleapis.com/v0/b/acap-r9.appspot.com/o/villages%2Fvill.png?alt=media&token=08e3a4f5-e7ba-433a-aa7e-9696be57caa7",iconAnchor:[17,17],popupAnchor:[10,-44],iconSize:[20,20]}),B=L.icon({iconUrl:"https://firebasestorage.googleapis.com/v0/b/acap-r9.appspot.com/o/villages%2Faws.png?alt=media&token=b8b8bdab-0c11-4df7-a814-be1c18769abf",iconRetinaUrl:"https://firebasestorage.googleapis.com/v0/b/acap-r9.appspot.com/o/villages%2Faws.png?alt=media&token=b8b8bdab-0c11-4df7-a814-be1c18769abf",iconAnchor:[18,37],popupAnchor:[0,-44],iconSize:[35,35]}),J=function(){M(!O)};return(0,l.useEffect)((function(){Z||(R(!1),W(!1))}),[Z]),(0,a.jsxs)(v.Z,{sx:de.map,style:{minHeight:Z?"1000px":"600px"},children:[P&&(0,a.jsx)("div",{children:(0,a.jsx)(ce,{record:k,isSmallScreen:Z,onSelectMunicipality:U})}),T&&(0,a.jsx)("div",{children:(0,a.jsx)(Ee,{isSmallScreen:Z,expandedAws:O,setExpandedAws:M,handleChange:J})}),Z&&(0,a.jsx)("div",{style:{position:"fixed",bottom:0,zIndex:2e3,backgroundColor:"#232C5E",height:50,width:"97%",borderRadius:10,margin:5},children:(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",padding:2},children:[(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",maxHeight:"100%",width:"50%"},onClick:function(){T&&R(!1),W(!P)},children:[(0,a.jsx)(Me.Z,{sx:{color:"white"}}),(0,a.jsx)(C.Z,{sx:{color:"white"},children:" Weather Today "})]}),(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",maxHeight:"100%",width:"50%"},onClick:function(){P&&W(!1),R(!T)},children:[(0,a.jsx)(De.Z,{sx:{color:"white"}}),(0,a.jsx)(C.Z,{sx:{color:"white"},children:" Weather Station Data "})]})]})}),(0,a.jsxs)(p.h,{style:{height:"105%"},center:Ne,zoom:9,maxZoom:10,minZoom:6,tileSize:512,placeholder:(0,a.jsx)("h3",{children:"You need JavaScript to render this app."}),whenCreated:function(e){z.current=e},children:[(0,a.jsx)(Oe,{smallScreen:Z}),(0,a.jsx)(h.et,{position:"topleft",children:ue.map((function(e,n){return(0,a.jsx)(h.et.BaseLayer,{name:e.name,checked:0===n,children:(0,a.jsx)(f.I,{zIndex:0,accessToken:"pk.eyJ1IjoiZ2hlbWhvcGUiLCJhIjoiY2tpYjM4YWN4MDkzZDJxazBwMWx6YXhpbyJ9.5uU4FKfifjxejsGu-95CMg",id:e.id,attribution:e.attribution,url:e.url})},"map-".concat(n))}))}),(0,a.jsx)(m.Q,{municipality:w,data:o.features,zIndex:1,onEachFeature:function(e,n){n.setStyle({fillColor:"Zamboanga Sibugay"===e.properties.ADM2_EN?pe.Hv.zs:"Zamboanga del Sur"===e.properties.ADM2_EN?pe.Hv.zds:"Zamboanga del Norte"===e.properties.ADM2_EN?pe.Hv.zdn:"Isabela"===e.properties.ADM2_EN?pe.Hv.isabela:"#db4dff",weight:0,fillOpacity:"0.3"})}},Math.random().toString(36).substring(2,8)),(0,a.jsx)(x.J,{position:[7.797602884800487,122.59963524750582],icon:B,eventHandlers:{click:function(e){J()}},children:(0,a.jsxs)(g.G,{children:["AMIA-IX Automatic Weather Station ",(0,a.jsx)("br",{})," Ipil, Zamboanga Sibugay"]})}),t.villages.map((function(e,n){return(0,a.jsx)(x.J,{position:[e.lat,e.lon],icon:Y,id:"tooltip-".concat(n),eventHandlers:{mouseover:function(e){null!==k&&I(null)},click:function(e){null!==k&&I(null)}},children:(0,a.jsx)(g.G,{children:(0,a.jsx)("table",{style:{width:"100%"},id:"tip-".concat(n),children:(0,a.jsxs)("tbody",{children:[Te.map((function(n,t){return["lat","lon"].includes(n)?(0,a.jsx)("tr",{},t):(0,a.jsxs)(a.Fragment,{children:[" ",(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:(0,a.jsxs)("b",{children:[n,":"]})}),(0,a.jsx)("td",{children:e[n.toLowerCase()]})]},t)]})})),(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:2,children:(0,a.jsx)(y.default,{src:e.img,alt:"AMIA Village",unoptimized:!0,height:300,width:500,loader:E.imageLoader})})})]})})})},n)}))]}),!Z&&(0,a.jsx)(ce,{record:k,isSmallScreen:Z,onSelectMunicipality:U}),!Z&&(0,a.jsx)(Ee,{expandedAws:O,setExpandedAws:M,handleChange:J})]})}},1902:function(e,n,t){"use strict";t.d(n,{J4:function(){return i},Y1:function(){return r},Sx:function(){return a}});var i=[{icon:"cc_sunny_49.svg",label:"No rain",nowrap:!0},{icon:"rainfall_light_rain_49.svg",label:"Light rain"},{icon:"rainfall_moderate_rain_49.svg",label:"Moderate rain"},{icon:"rainfall_heavy_rain_49.svg",label:"Heavy rain"},{icon:"blank_weather.png",label:"Heavy rain",hidden:!0}],r=[{icon:"cc_sunny_49.svg",label:"Sunny"},{icon:"cc_mostly_sunny_49.svg",label:"Mostly sunny"},{icon:"cc_partly_cloudy_49.svg",label:"Partly cloudy"},{icon:"cc_mostly_cloudy_49.svg",label:"Mostly cloudy"},{icon:"cc_cloudy_49.svg",label:"Cloudy"}],a={rainfall:{"NO RAIN":"cc_sunny_49.svg","LIGHT RAINS":"rainfall_light_rain_49.svg","MODERATE RAINS":"rainfall_moderate_rain_49.svg","HEAVY RAINS":"rainfall_heavy_rain_49.svg"},cloudCover:{SUNNY:"cc_sunny_49.svg","MOSTLY SUNNY":"cc_mostly_sunny_49.svg","PARTLY CLOUDY":"cc_partly_cloudy_49.svg","MOSTLY CLOUDY":"cc_mostly_cloudy_49.svg",CLOUDY:"cc_cloudy_49.svg"}}},30675:function(e){e.exports={tileFade:"RainViewer_tileFade__zc8aJ"}}}]);