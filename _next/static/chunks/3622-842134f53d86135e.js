"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3622],{22228:function(t,e,n){n.d(e,{Z:function(){return u}});var r=n(67294);function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t){var e=(0,r.useState)([]),n=e[0],u=e[1],c=(0,r.useState)(""),i=c[0],a=c[1];(0,r.useEffect)((function(){if(a(""),(null===t||void 0===t?void 0:t.length)>0)try{var e=t.map((function(t){return{impact:t.impact_outlook_english,impact_tagalog:t.impact_outlook_tagalog}})).filter((function(t){return""!==t.impact_outlook_english&&""!==t.impact_outlook_tagalog}));return e=l(e),void u([{impact:f(e.impact),impact_tagalog:f(e.impact_tagalog)}])}catch(n){a(n)}else u([])}),[t]);var f=function(t){var e="-",n=t.reduce((function(t,n){return n.includes("<p>")?("list"===e&&(t+="</ul>"),t+=n,e="p"):(["-","p"].includes(e)&&(t+="<ul>"),t+=n,e="list"),t}),"");return"list"===e&&(n+="</ul>"),n},l=function(t){var e={impact:[],impact_tagalog:[]};return t.reduce((function(t,n){return Object.keys(t).forEach((function(r){var o=n[r].replace(/<ul>/g,"");(o=(o=o.replace(/<\/ul>/g,"")).replace(/<li>/g,"")).split("</li>").forEach((function(n){n.includes("<p>")?n.replace(/<p>/g,"").split("</p>").forEach((function(n){e[r].includes(n)||""===n||(e[r].push(n),t[r].push("<p>".concat(n,"</p>")))})):e[r].includes(n)||""===n||(e[r].push(n),t[r].push("<li>".concat(n,"</li>")))}))})),function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){o(t,e,n[e])}))}return t}({},t)}),{impact:[],impact_tagalog:[]})};return{group:n,error:i}}},15497:function(t,e,n){n.d(e,{Z:function(){return c}});var r=n(67294);function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function u(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e,n){var o=(0,r.useState)(null),c=o[0],i=o[1],a=(0,r.useState)(""),f=a[0],l=a[1];return(0,r.useEffect)((function(){if(l(""),(null===t||void 0===t?void 0:t.length)>0&&(null===n||void 0===n?void 0:n.length)>0&&e){var r=t.map((function(t){return t.farming_activity})).filter((function(t,e,n){return n.indexOf(t)===e})),o=null===n||void 0===n?void 0:n.map((function(t){return t.code}));try{i(o.reduce((function(n,o){return null===r||void 0===r||r.forEach((function(r){var c=e[o].label,i=t.filter((function(t){return t.crop_stage===o&&t.farming_activity===r}));i.length>0&&c&&(void 0===n[c]&&(n[c]={}),void 0===n[c][r]&&(n[c][r]=[]),n[c][r]=u(n[c][r]).concat(u(i)))})),n}),{}))}catch(c){i(null),l(c)}}else(null===t||void 0===t?void 0:t.length)>0?i(t):i(null)}),[t,e,n]),{group:c,error:f}}},27941:function(t,e,n){n.d(e,{Z:function(){return a}});var r=n(34051),o=n.n(r),u=n(67294),c=n(1096);function i(t,e,n,r,o,u,c){try{var i=t[u](c),a=i.value}catch(f){return void n(f)}i.done?e(a):Promise.resolve(a).then(r,o)}function a(t,e,n){var r=(0,u.useState)([]),a=r[0],f=r[1],l=(0,u.useState)(!1),s=l[0],p=l[1],v=(0,u.useState)(""),d=v[0],y=v[1];return(0,u.useEffect)((function(){var r=function(){var r,u=(r=o().mark((function r(){var u,i,a,l;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,u=[],p(!1),y(""),r.next=6,(0,c.iR)({crop:t,climateRisk:e,type:n});case 6:u=r.sent,p(!1),f(u||[]),r.next=18;break;case 11:r.prev=11,r.t0=r.catch(0),l=null!==(a=null===r.t0||void 0===r.t0||null===(i=r.t0.response)||void 0===i?void 0:i.data)&&void 0!==a?a:r.t0.message,y(l),p(!1);case 18:case"end":return r.stop()}}),r,null,[[0,11]])})),function(){var t=this,e=arguments;return new Promise((function(n,o){var u=r.apply(t,e);function c(t){i(u,n,o,c,a,"next",t)}function a(t){i(u,n,o,c,a,"throw",t)}c(void 0)}))});return function(){return u.apply(this,arguments)}}();t&&n?r():f([])}),[t,e,n]),{recommendationsSMS:a,loading:s,error:d}}},16449:function(t,e,n){n.d(e,{Z:function(){return a}});var r=n(34051),o=n.n(r),u=n(67294),c=n(57906);function i(t,e,n,r,o,u,c){try{var i=t[u](c),a=i.value}catch(f){return void n(f)}i.done?e(a):Promise.resolve(a).then(r,o)}function a(t,e){var n=(0,u.useState)([]),r=n[0],a=n[1],f=(0,u.useState)(!1),l=f[0],s=f[1],p=(0,u.useState)(!1),v=p[0],d=p[1];return(0,u.useEffect)((function(){var t=function(){var t,e=(t=o().mark((function t(){var e,n,r,u;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,c.yZ)();case 3:e=t.sent,a(null!==e&&void 0!==e?e:[]),t.next=14;break;case 7:t.prev=7,t.t0=t.catch(0),u=null!==(r=null===t.t0||void 0===t.t0||null===(n=t.t0.response)||void 0===n?void 0:n.data)&&void 0!==r?r:t.t0.message,d(u),s(!1);case 14:case"end":return t.stop()}}),t,null,[[0,7]])})),function(){var e=this,n=arguments;return new Promise((function(r,o){var u=t.apply(e,n);function c(t){i(u,r,o,c,a,"next",t)}function a(t){i(u,r,o,c,a,"throw",t)}c(void 0)}))});return function(){return e.apply(this,arguments)}}();t()}),[t,e]),{services:r,loading:l,error:v}}},57906:function(t,e,n){n.d(e,{Wn:function(){return w},vo:function(){return O},yZ:function(){return S},Ef:function(){return _}});var r=n(34051),o=n.n(r),u=n(94763),c=n(25321);function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(t,e,n,r,o,u,c){try{var i=t[u](c),a=i.value}catch(f){return void n(f)}i.done?e(a):Promise.resolve(a).then(r,o)}function f(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var u=t.apply(e,n);function c(t){a(u,r,o,c,i,"next",t)}function i(t){a(u,r,o,c,i,"throw",t)}c(void 0)}))}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){s(t,e,n[e])}))}return t}function d(t,e){return!e||"object"!==h(e)&&"function"!==typeof e?i(t):e}function y(t,e){return y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},y(t,e)}var h=function(t){return t&&"undefined"!==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function m(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p(t);if(e){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}var b=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(n,t);var e=m(n);function n(){var t;l(this,n);var r=i(t=e.apply(this,arguments));s(i(t),"getSupportServices",f(o().mark((function t(){var e,n,u,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"support_services",e=r.collection(r.db,"support_services"),n=r.query(e,(0,c.Xo)("date","asc")),t.next=5,r.getDocs(n);case 5:return u=t.sent,i=u.docs.map((function(t){return v({},t.data(),{docId:t.id})})),t.abrupt("return",i);case 8:case"end":return t.stop()}}),t)}))));var u=i(t);s(i(t),"addSupportService",function(){var t=f(o().mark((function t(e){var n,r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.supportService,"support_services",r=u.collection(u.db,"support_services"),t.next=5,u.addDoc(r,{data:n,date:new Date});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());var a=i(t);s(i(t),"updateSupportService",function(){var t=f(o().mark((function t(e){var n,r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"support_services",n=a.collection(a.db,"support_services"),r=a.doc(n,e.docId),delete e.docId,t.next=6,a.updateDoc(r,e);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());var p=i(t);return s(i(t),"deleteSupportService",function(){var t=f(o().mark((function t(e){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=p.doc(p.db,"support_services",e),t.next=3,p.deleteDoc(n);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t}return n}(u.Z),g=new b,S=g.getSupportServices.bind(g),w=g.addSupportService.bind(g),_=g.updateSupportService.bind(g),O=g.deleteSupportService.bind(g)}}]);